webpackJsonp([1],{"/+5f":function(i,t){},"/31Y":function(i,t){},"/I/C":function(i,t){},"/sA3":function(i,t){},"13kN":function(i,t,e){"use strict";function s(i){e("kC67")}var a=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(i){this.$emit("update:show",i)}}}),o=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("transition",{attrs:{name:i.transition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:i.text?"":"vux-loading-no-text"},[e("div",{staticClass:"weui-mask_transparent"}),i._v(" "),e("div",{staticClass:"weui-toast",style:{position:i.position}},[e("i",{staticClass:"weui-loading weui-icon_toast"}),i._v(" "),i.text?e("p",{staticClass:"weui-toast__content"},[i._v(i._s(i.text||"加载中")),i._t("default")],2):i._e()])])])},n=[],r={render:o,staticRenderFns:n},l=r,c=e("C7Lr"),d=s,u=c(a,l,!1,d,null,null);t.a=u.exports},"1Uz0":function(i,t){},"1opH":function(i,t){},"2Duw":function(i,t){},"3/Cv":function(i,t){},"7mrR":function(i,t){},"94Ot":function(i,t){},"9n0Z":function(i,t){},AV5b:function(i,t){},"Ae+8":function(i,t){},BM4z:function(i,t){},CuvB:function(i,t){},EA7G:function(i,t){},GDYm:function(i,t){},"GOq+":function(i,t){},HemK:function(i,t){},HgEG:function(i,t,e){i.exports=e.p+"static/img/banner1.ac56214.jpg"},Hpv9:function(i,t){},HrsJ:function(i,t){},I1SS:function(i,t){},IhRb:function(i,t){},Ijnl:function(i,t){},"J+q+":function(i,t){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAY1BMVEX////9/f2UlJTj4+Pw8PD6+vqampqlpaWenp7f39/FxcX19fX5+PjAwMC9vb2pqairq6u5ubrr6+v39/ehoaHc3NzIyMjo5+fCwsK0tLSvr6/Ly8uOjo7Z2dnV1dXQ0M+JiYnMpjtLAAADa0lEQVRIx42ViXKjQAxE5z6YgeE+bbP//5XbGuIi5cVrd1VIwLyR1JJixrWapJzafzVNrQqac8bxjpRtiJxHug9yXKy7kBFu3WRkjId2mFe7Fl5pDpxN29Lj4wuB8AoxtJ7GpRcCBwQcENl9ccYma9OLbGoebac5Y3oqrMOxJhUyIgzberfufhj8qwYKwRCkna2xVdFYMEMAMgtTKXzCXsU1h5iWBYjSKzkm0zcDiptvAkgmLiit29EKO/uO8Ql/9fPEWCEIOcXxHj+Eu+DH1VEMzXgnCyfqTf+LaH7SURbJIUbIt+qxIkx3EeV55TFMW21sQzVzDeS+ClOGS4RriHPlx8X11V3BhNDp4Esn0s4vEY1+QC1lRUR+qn1JRshLBEGIa5G6o6wYSU8Ug8q6Rjj5M649+tDlZzxQjISR0foSwU/ws4W7Mh4tDcNiRBqnyHQ8kbMZPLtbu77x1I4OB6AlNzvmsTyjwMYs/M5TkoxrfMxuIEbV01BqpvmJnO2AaIecbR559CO5S0liaHLOJ/KrFolXUPnhblS+7IUtDyNU4L8R/qOw9TfX3AMjoazZCkcxoODlieQc6BrVsx/8J0lrDus4x37u8TcSqYNxGtOROCHUDxAFCELUvlbhQM4OBrlhKwo0gMTVgDoSEaQ4LG55RdRQ1MaVkz52WA0NYlAHj+3ZnFjOVub5Rc+TcIvXwInISzxL/WNPWwrRnAg9C/dqtXX5aPUx0L7pXZ5diC5qfkX4hH6Y/mkv3O2NrYbInlK/o2Si3ZIxRvSjyvuBfpjcwXcIYoy1s+sCh/Yp6ABC2CJPyTVCdliT5vtQGpqO9tiPCe3p3iKqEab0IfrGCVvtNFdFSyaEt0i73Owj0KTj/H61iCV19uV/SPLHdjTOOBqa8/zr8tv1jyUEPmyrc4nWnmuaiTeIZgqIZFDnaQfh7nMl3kZRqOUeui7kf/EV3D31HhHLOI7Fkvp6HgL7hOC+EjcB3W6iRj9g1GdkS84Qgv2YNPuM0P7tY1GM27Y/JLn7RWK8UypQ+YEW+isk2/n09CuEQ88vMU56j5TPr9cz0ttYoRC3BYjICGdfKIyGkNGY5SG9l1/o3hhK7IHlTbVN9WelXghXdcxXyfVOfCXj6vKOmX+UqwViPksI2+xeY09b6b8rBe+1KvK/sK0/eDHIiT4AAAAASUVORK5CYII="},L1Z5:function(i,t){},LO9X:function(i,t,e){i.exports=e.p+"static/img/live.9ad57ae.png"},MbtE:function(i,t){},NHnr:function(t,e,s){"use strict";function a(i){s("T77J")}function o(i){s("HrsJ")}function n(i){s("kNI/")}function l(i){s("eCeV")}function c(i){s("GOq+")}function d(i){s("AV5b")}function u(i){s("sIFi")}function v(i){s("9n0Z")}function m(i){s("2Duw")}function p(i){s("pp45")}function h(i){s("QRkC")}function _(i){s("Yvur"),s("EA7G")}function f(i){s("bc6U")}function y(i){s("94Ot")}function C(i){s("Ijnl")}function w(i){s("7mrR")}function x(i){s("I1SS")}function B(i){s("Hpv9")}function S(i){s("puW0")}function k(i){s("UC3r")}function M(i){s("L1Z5"),s("Ae+8")}function P(i){s("HemK")}function L(i){s("/31Y")}function I(i){s("CuvB")}function O(i){s("/I/C")}function V(i){s("/+5f")}function A(i){s("i1WR")}function F(i){s("PPJT"),s("Q1CM")}function T(i){s("GDYm")}function j(i){s("1opH")}function R(i){s("3/Cv")}function E(i){s("BM4z")}function U(i){s("tEpr")}function D(i){s("lPsE")}function H(i){s("rWbv")}function J(i){s("bkaS")}Object.defineProperty(e,"__esModule",{value:!0});var q=s("rVsN"),N=s.n(q),W=s("xd7I"),Y=s("iDdd"),G=s.n(Y),K=s("3XdE"),z={name:"app",provide:function(){return{reloadPage:this.reloadPage}},data:function(){return{isRouterAlive:!0}},methods:{reloadPage:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},Z=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{attrs:{id:"app"}},[i.isRouterAlive?e("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}]}):i._e()],1)},X=[],Q={render:Z,staticRenderFns:X},ii=Q,ti=s("C7Lr"),ei=a,si=ti(z,ii,!1,ei,null,null),ai=si.exports;W.a.component("remote-script",{render:function(i){var t=this;return i("script",{attrs:{type:"text/javascript",src:this.src},on:{load:function(i){t.$emit("load",i)},error:function(i){t.$emit("error",i)},readystatechange:function(i){"complete"==this.readyState&&t.$emit("load",i)}}})},props:{src:{type:String,required:!0}}});var oi={name:"room-video",props:["room_id"],data:function(){return{openid:"",subStatus:!1,videoList:[],player:{},video_height:0,aliplayer_config:{id:"",width:"100%",height:"195px",autoplay:!0,playsinline:!0,showBuffer:!0,isLive:!1,x5_type:!0,source:"http://aliplay.adaxiang.com/kr/wc001.m3u8",cover:"",skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]}}},created:function(){var i=document.body.clientWidth-30,t=9*i/16;this.video_height=t+"px",this.aliplayer_config.height=this.video_height,this.openid=localStorage.getItem("openid"),this.getData()},mounted:function(){},methods:{getData:function(){var i=this;i.$vux.loading.show({text:"加载中~"});var t=new URLSearchParams;i.axiosPost("/room/videos?id="+this.room_id,t).then(function(t){if(i.$vux.loading.hide(),200==t.status){if(i.videoList=t.data.videos,i.videoList.length>0)for(var e=0;e<i.videoList.length;e++)i.videoList[e].status=1,i.videoList[e].vno="J_prismPlayer"+(e+1),i.aliplayer_config.source=i.videoList[e].vurl,i.aliplayer_config.id="J_prismPlayer"+(e+1)}else i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},playervideo:function(i,t,e){this.$parent.stopMUisc(),e.status=0,this.player.length>0&&this.player.dispose();var s=this;s.aliplayer_config.source=t,s.aliplayer_config.id=i,this.player=new Aliplayer(s.aliplayer_config),this.clickNum(e)},clickNum:function(i){var t=this;if(i.click++,t.subStatus)return!1;var e=new URLSearchParams;e.append("cid",i.id),e.append("ctype","video"),t.subStatus=!0,t.axiosPost("/room/click-num",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})},videoStart:function(i){if(!localStorage.getItem("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),this.$router.replace({path:"/auth"}),!1;var t=this;if(t.subStatus)return!1;i.start=1==i.start?0:1,t.subStatus=!0;var e=new URLSearchParams;e.append("id",i.id),e.append("stype",1),t.axiosPost("/client/user-start",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})}}},ni=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",i._l(i.videoList,function(t){return e("div",{ref:"videoStyle",refInFor:!0,staticClass:"video_info"},[e("dl",[e("dt",{staticClass:"video_title"},[e("div",{staticClass:"video_item"},[e("div",{staticClass:"prism-player-video",style:{display:1==t.status?"none":"block"},attrs:{id:t.vno},on:{click:function(e){return i.clickNum(t)}}})]),i._v(" "),1==t.status?e("img",{attrs:{src:t.pic},on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e()]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.name))]),i._v(" "),e("p",[e("span",[i._v("片长："+i._s(t.vlength)+" 热度："+i._s(t.click))]),i._v(" "),e("span",[e("a",{class:[t.start?"zanIcon2":"zanIcon"],attrs:{href:"javascript:void(0);"},on:{click:function(e){return i.videoStart(t)}}},[i._v("赞")])])])])])])}),0)},ri=[],li={render:ni,staticRenderFns:ri},ci=li,di=s("C7Lr"),ui=o,vi=di(oi,ci,!1,ui,"data-v-62eac025",null),mi=vi.exports,pi=s("3cXf"),hi=s.n(pi),_i={name:"product",props:["room_id"],data:function(){return{openid:"",productList:[],totalPrice:0}},created:function(){this.openid=localStorage.getItem("openid"),this.getData()},methods:{getData:function(){var i=this,t=this;t.$vux.loading.show({text:"加载中~"});var e=new URLSearchParams;t.axiosPost("/product/room?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?t.productList=e.data:i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},changeNum:function(i,t){1==i?--t.buy_num<0&&(t.buy_num=0):t.buy_num++;var e=0;this.totalPrice=0;for(var s=0;s<this.productList.length;s++)(e+=this.productList[s].buy_num*this.productList[s].price)&&(this.totalPrice=e.toFixed(2));this.$emit("buy_price",this.totalPrice)},buy_product:function(i,t,e,s){for(var a=[],o=0,n=0;n<this.productList.length;n++)this.productList[n].buy_num>0&&(o+=this.productList[n].buy_num*this.productList[n].price,a.push(this.productList[n]));if(o=o.toFixed(2),!(a.length>0))return this.$vux.alert.show({title:"温馨提示",content:"请选择需要购买的商品"}),!1;var r={room_id:i,room_name:t,room_logo:e,room_tel:s};localStorage.setItem("buy_room",hi()(r)),localStorage.setItem("buy_total",o),localStorage.setItem("buy_product",hi()(a)),this.$router.replace({path:"/order",query:{room_id:i}})}}},gi=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"product-list"},i._l(i.productList,function(t){return e("dl",[e("dt",[e("img",{attrs:{src:t.pic}})]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.title))]),i._v(" "),e("p",[i._v(i._s(t.desc))]),i._v(" "),e("span",{staticClass:"money"},[i._v("¥"+i._s(t.price))]),i._v(" "),e("span",{staticClass:"num"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return i.changeNum(1,t)}}},[i._v("-")]),i._v(" "),e("i",[i._v(i._s(t.buy_num))]),i._v(" "),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return i.changeNum(2,t)}}},[i._v("+")])])])])}),0)},fi=[],yi={render:gi,staticRenderFns:fi},Ci=yi,wi=s("C7Lr"),bi=n,xi=wi(_i,Ci,!1,bi,"data-v-43f80047",null),Bi=xi.exports,Si=s("0qtm"),$i={name:"comment",inject:["reload"],props:["room_id"],data:function(){return{commentList:[],total:0,roomid:0,openid:""}},created:function(){this.openid=localStorage.getItem("openid"),this.getData()},methods:{getData:function(){var i=this,t=this,e=new URLSearchParams;e.append("id",t.room_id),t.axiosPost("/room/comments",e).then(function(e){t.$vux.loading.hide(),200==e.status?e.data.length>0&&(t.commentList=e.data,t.total=e.data.length):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},setStart:function(i){var t=this;if(t.subStatus)return!1;i.start=1==i.start?0:1,t.subStatus=!0;var e=new URLSearchParams;e.append("id",i.id),e.append("stype",2),t.axiosPost("/client/user-start",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})},setComment:function(i){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),!1;if(!(i=i.replace(/\s+/g,"")))return this.$vux.alert.show({title:"温馨提示",content:"请填写评论内容"}),!1;var t=this,e=new URLSearchParams;e.append("content",i),e.append("id",t.room_id),t.axiosPost("/client/comment",e).then(function(e){t.$vux.loading.hide(),200==e.status?(i="",t.$emit("clearComment",""),t.reload()):t.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})}}},ki=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"comments"},[e("h3",{staticClass:"tit allMessIcon"},[i._v("全部评论("+i._s(i.total)+")")]),i._v(" "),e("div",{staticClass:"messList"},i._l(i.commentList,function(t,s){return e("dl",[e("dt",[e("span",{style:{backgroundImage:"url("+t.thumb_img+")"}}),i._v(i._s(t.nickname)+"\n            ")]),i._v(" "),e("dd",[e("p",[i._v(i._s(t.content))]),i._v(" "),e("p",[e("span",[i._v("第"+i._s(i.commentList.length-s)+"楼 "+i._s(t.date))]),i._v(" "),e("span",[e("a",{class:[t.start?"zanIcon2":"zanIcon"],attrs:{href:"javascript:void(0);"},on:{click:function(e){return i.setStart(t)}}},[i._v("赞")])])])])])}),0)])},Mi=[],Pi={render:ki,staticRenderFns:Mi},Li=Pi,Ii=s("C7Lr"),Oi=l,Vi=Ii($i,Li,!1,Oi,"data-v-4d3a0ca7",null),Ai=Vi.exports,Fi={name:"room",components:{"room-video":mi,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:!1,playinit:!1,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",width:"100%",height:"240px",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,x5_type:!0,source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""}}},provide:function(){return{reload:this.reload}},created:function(){this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=!1,i.checkVideoPlayer(i.currentVideo)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(i.playinit=!0)},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){var i=this,t=new Swiper(".gallery-thumbs",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0});i.galleryTop=new Swiper(".gallery-top",{autoHeight:!0,spaceBetween:10,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:t},on:{slideChangeTransitionStart:function(){i.switchContent(this.activeIndex)}}})},switchVideo:function(i,t){this.playinit=!1,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;-1!=i.vurl.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!0,e.aliplayer_config.rePlay=!0,e.play_status=2),e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl,2==t&&(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback),e.currentVideo=i,e.player=new Aliplayer(e.aliplayer_config)},switchContent:function(i){switch(i){case 0:$(".shoppingCarBox").hide(),$(".sendMessMenu").hide();break;case 1:$(".shoppingCarBox").fadeIn(),$(".sendMessMenu").hide();break;case 2:$(".sendMessMenu").fadeIn(),$(".shoppingCarBox").hide();break;case 3:$(".shoppingCarBox").hide(),$(".sendMessMenu").hide()}},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!0,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.player=new Aliplayer(t.aliplayer_config),t.currentVideo=t.lens[0]):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&i.total_price<i.deliver)return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){var e=t.player.getCurrentTime();t.aliplayer_config.isLive&&e<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=!0,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?e.$wechat.config(JSON.parse(t.data)):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()}),e.$wechat.ready(function(){var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})}}},Ti=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player ",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&!1===i.playing||!0===i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i._m(0)]),i._v(" "),e("div",{staticClass:"title"},[e("dl",[e("dt",[e("h1",[e("span",[i._v(i._s(i.roomBasic.room_name))]),e("span",[i._v(i._s(i.roomBasic.click_num))])]),i._v(" "),e("p",[i._v(i._s(i.roomBasic.addr))])]),i._v(" "),e("dd",[1==i.play_status?e("span",{staticClass:"live"},[e("i"),i._v("正在直播")]):i._e(),i._v(" "),2==i.play_status?e("span",{staticClass:"playback"},[e("i"),i._v("精彩回放")]):i._e()])])]),i._v(" "),e("div",{staticClass:"line"}),i._v(" "),e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("生态直播")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(3)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("h2",{staticClass:"tit videoIcon"},[i._v("实时直播")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                            "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                ")])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"my-order"},[e("router-link",{attrs:{to:{path:"order/mylist"}}},[e("span",[i._v("我的订单>")])])],1),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                         "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"shopList"},[e("product",{ref:"product",attrs:{room_id:i.room_id},on:{buy_price:i.countPrice}})],1)]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),i._m(1)])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:function(t){t.target.composing||(i.comment=t.target.value)}}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.7.1/aliplayer-min.js"}})],1)},ji=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("Z2Ou")}})])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footerLogo"},[e("img",{attrs:{src:s("TPZN")}})])}],Ri={render:Ti,staticRenderFns:ji},Ei=Ri,Ui=s("C7Lr"),Di=c,Hi=Ui(Fi,Ei,!1,Di,"data-v-6ad1fe0e",null),Ji=(Hi.exports,{name:"order",data:function(){return{subStatus:!1,roomInfo:{},totalPrice:0,product:{},addr:{},tel:"",openid:"",roomid:"",wechatJssdk:{debug:!0,appId:"",timestamp:"",nonceStr:"",signature:"",jsApiList:["chooseWXPay","onMenuShareTimeline","onMenuShareAppMessage"]}}},created:function(){var i=localStorage.getItem("buy_room"),t=localStorage.getItem("buy_product");this.roomInfo=i?JSON.parse(i):"",this.totalPrice=localStorage.getItem("buy_total"),this.product=t?JSON.parse(t):"",this.tel="tel:"+this.roomInfo.room_tel,this.openid=localStorage.getItem("openid"),this.roomid=localStorage.getItem("roomid"),this.wechatConfig(),this.getAddr()},methods:{getAddr:function(){var i=this,t=this,e=new URLSearchParams;e.append("open_id",this.openid),t.axiosPost("/client/addr",e).then(function(e){t.$vux.loading.hide(),200==e.status?t.addr=e.data:i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},changeNum:function(i,t){1==i?--t.buy_num<0&&(t.buy_num=0):t.buy_num++;var e=0;this.totalPrice=0;for(var s=0;s<this.product.length;s++)this.product[s].buy_num>0&&(e+=this.product[s].buy_num*this.product[s].price)&&(this.totalPrice=e.toFixed(2))},addAddr:function(){this.$router.replace({path:"/addr/edit",query:{from:1}})},addresList:function(){this.$router.replace({path:"/addr",query:{from:1}})},subOrder:function(){var i=this;if(this.subStatus)return!1;for(var t=this,e=[],s=0;s<this.product.length;s++)this.product[s].buy_num>0&&e.push({product_id:this.product[s].id,num:this.product[s].buy_num});if(t.totalPrice<=0||e.length<=0)return this.$vux.alert.show({title:"温馨提示",content:"请勾选需要购买的商品"}),!1;if(!t.addr.client_name)return this.$vux.alert.show({title:"温馨提示",content:"请填写收件人信息"}),!1;t.$vux.loading.show({text:"提交中~"}),this.subStatus=!0;var a=new URLSearchParams;a.append("open_id",t.openid),a.append("room_id",t.roomid),a.append("products",hi()(e)),a.append("user_name",t.addr.client_name),a.append("user_sex",t.addr.sex),a.append("user_phone",t.addr.mobile),a.append("address",t.addr.addr+t.addr.detail),t.axiosPost("/client/order-sub",a).then(function(e){t.subStatus=!1,t.$vux.loading.hide(),200==e.status?t.wechatPay(e.data.pay,e.data.order_no):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.subStatus=!1,t.$vux.loading.hide()})},wechatConfig:function(){var i=this,t=window.location.href.split("#")[0],e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?e.$wechat.config(JSON.parse(t.data)):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},wechatPay:function(i,t){var e=this;e.$wechat.chooseWXPay({timestamp:i.timeStamp,nonceStr:i.nonceStr,package:i.package,signType:i.signType,paySign:i.paySign,success:function(i){e.$router.replace({path:"/order/success",query:{order_id:t}})},cancel:function(i){}})}}}),qi=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"order"},[e("div",{staticClass:"orderHead"},[e("div",{staticClass:"orderTabMenu"},[e("a",{attrs:{href:"#"}},[i._v("产地到家")]),i._v(" "),e("a",{attrs:{href:i.tel}},[i._v("联系园主")])]),i._v(" "),e("div",{staticClass:"orderAddress"},[i.addr.client_name?e("dl",{on:{click:i.addresList}},[e("dt",[i._v(i._s(i.addr.addr)+i._s(i.addr.detail))]),i._v(" "),e("dd",[i._v(i._s(i.addr.client_name)+" "+i._s(i.addr.sex)+" "+i._s(i.addr.mobile))])]):e("div",{staticClass:"addNewAddress"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:i.addAddr}},[i._v("+新增收货地址")])]),i._v(" "),i._m(0)])]),i._v(" "),e("div",{staticClass:"orderList"},[e("div",{staticClass:"tit",style:{backgroundImage:"url("+i.roomInfo.room_logo+")"}},[i._v(i._s(i.roomInfo.room_name))]),i._v(" "),i._l(i.product,function(t){return e("dl",[e("dt",[e("img",{attrs:{src:t.pic}})]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.title)),e("span",[i._v("¥"+i._s(t.price))])]),i._v(" "),e("p",[i._v(i._s(t.desc))]),i._v(" "),e("span",{staticClass:"num"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return i.changeNum(1,t)}}},[i._v("-")]),i._v(" "),e("i",[i._v(i._s(t.buy_num))]),i._v(" "),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return i.changeNum(2,t)}}},[i._v("+")])])])])})],2),i._v(" "),e("div",{staticClass:"payBtn"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:i.subOrder}},[i._v("微信支付¥"+i._s(i.totalPrice))])])])},Ni=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"orderTime"},[i._v("\n                    立即打包"),e("span",[i._v("准时发货")])])}],Wi={render:qi,staticRenderFns:Ni},Yi=Wi,Gi=s("C7Lr"),Ki=d,zi=Gi(Ji,Yi,!1,Ki,"data-v-5bff56fa",null),Zi=zi.exports,Xi={name:"address-list",data:function(){return{addresList:{},openid:""}},created:function(){this.openid=localStorage.getItem("openid"),this.getData()},methods:{getData:function(){var i=this,t=this,e=new URLSearchParams;e.append("open_id",this.openid),t.axiosPost("/client/addr-list",e).then(function(e){t.$vux.loading.hide(),200==e.status?t.addresList=e.data:i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},addAddr:function(){localStorage.setItem("address_edit",""),this.$router.replace({path:"/addr/edit"})},editAddr:function(i){localStorage.setItem("address_edit",hi()(i)),this.$router.replace({path:"/addr/edit"})},selectAddr:function(i){var t=this,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("aid",i.aid),e.axiosPost("/client/addr-default",s).then(function(i){e.$vux.loading.hide(),200==i.status?(e.addresList=i.data,e.$router.replace({path:"/order"})):t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){e.$vux.loading.hide()})}}},Qi=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"address_info"},[e("div",{staticClass:"addressList"},i._l(i.addresList,function(t){return e("dl",{class:[1==t.common?"cur":""]},[e("dt",{on:{click:function(e){return i.selectAddr(t)}}}),i._v(" "),e("dd",{on:{click:function(e){return i.selectAddr(t)}}},[e("h3",[i._v(i._s(t.addr)+i._s(t.detail))]),i._v(" "),e("p",[i._v(i._s(t.name))])]),i._v(" "),e("dd",{staticClass:"edit",on:{click:function(e){return i.editAddr(t)}}},[e("img",{attrs:{src:s("J+q+")}})])])}),0),i._v(" "),e("div",{staticClass:"newAddress"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:i.addAddr}},[i._v("+新增收货地址")])])])},it=[],tt={render:Qi,staticRenderFns:it},et=tt,st=s("C7Lr"),at=u,ot=st(Xi,et,!1,at,"data-v-5f5c580b",null),nt=(ot.exports,{name:"LiveFooter",props:["findex"],data:function(){return{footer:[{fname:"live",fclass:"live-foot-live",ftext:"实时视频",path:"/"},{fname:"video",fclass:"live-foot-video",ftext:"精彩短片",path:"/video"},{fname:"user",fclass:"live-foot-user",ftext:"个人中心",path:"/user"}]}},methods:{changeIndex:function(i){this.$router.replace({path:i.path})}}}),rt=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footer"},i._l(i.footer,function(t,s){return e("div",{key:s,staticClass:"item"},[e("div",{class:t.fclass},[e("div",{class:i.findex==t.fname?"active":"",on:{click:function(e){return i.changeIndex(t)}}},[e("div",{staticClass:"item-icon"}),i._v(" "),e("div",{staticClass:"item-text"},[i._v(i._s(t.ftext))])])])])}),0)},lt=[],ct={render:rt,staticRenderFns:lt},dt=ct,ut=s("C7Lr"),vt=v,mt=ut(nt,dt,!1,vt,"data-v-6fa2ee9f",null),pt=mt.exports,ht={name:"edit-address",components:{LiveFooter:pt},data:function(){return{room_id:0,openid:"",subStatus:0,addrInfo:{aid:0,name:"",commmon:0,sex:1,mobile:"",addr:"",detail:"",code:""},goBack:"",smsModel:"发送验证码",smsStatus:0,findex:"user"}},created:function(){this.openid=localStorage.getItem("openid");var i=localStorage.getItem("address_edit");i&&(this.addrInfo=JSON.parse(i)),2==this.$route.query.from?this.goBack="/addr":this.goBack="/order"},methods:{setSex:function(i,t){i.sex=t},updateAddr:function(){var i=this,t=this.addrInfo;if(this.subStatus)return!1;if(!t.name)return i.$vux.alert.show({title:"温馨提示",content:"请填写联系人姓名"}),!1;if(!t.mobile||!/^[1][34578]\d{9}$/.test(t.mobile)||!/^[1-9]\d*$/.test(t.mobile)||11!==t.mobile.length)return i.$vux.alert.show({title:"温馨提示",content:"请填写有效手机号"}),!1;if(!t.addr)return i.$vux.alert.show({title:"温馨提示",content:"请填写收货地址"}),!1;if(!t.detail)return i.$vux.alert.show({title:"温馨提示",content:"请填写门牌号"}),!1;var e=new URLSearchParams;t.aid&&e.append("aid",t.aid),e.append("client_name",t.name),e.append("commmon",t.commmon),e.append("client_sex",t.sex),e.append("mobile",t.mobile),e.append("addr",t.addr),e.append("detail",t.detail),e.append("code",t.code),i.$vux.loading.show({text:"加载中~"}),this.subStatus=!0,i.axiosPost("/client/addr-save",e).then(function(t){i.subStatus=!1,i.$vux.loading.hide(),200==t.status?i.$router.replace({path:i.goBack}):i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.subStatus=!1,i.$vux.loading.hide()})},sendSms:function(){var i=this;if(this.smsStatus)return!1;if(!/^1[34578]\d{9}$/.test(this.addrInfo.mobile))return this.$vux.alert.show({title:"温馨提示",content:"请输入正确的手机号码"}),!1;var t=new URLSearchParams;t.append("mobile",this.addrInfo.mobile),i.axiosPost("/client/sms",t).then(function(t){i.$vux.loading.hide(),200==t.status?(i.smsModel=60,i.smsStatus=!0,i.countDown()):(i.smsStatus=0,i.$vux.alert.show({title:"温馨提示",content:t.message}))},function(t){i.smsStatus=0,i.$vux.loading.hide()})},countDown:function(){if(0==this.smsModel)this.smsModel="发送验证码",this.smsStatus=0;else{this.smsModel--;var i=this;setTimeout(function(){i.countDown()},1e3)}}}},_t=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"address"},[e("div",{staticClass:"editAddress"},[e("dl",[e("dt",[i._v("联系人：")]),i._v(" "),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:i.addrInfo.name,expression:"addrInfo.name"}],attrs:{type:"text",placeholder:"请填写收货人的姓名",name:""},domProps:{value:i.addrInfo.name},on:{input:function(t){t.target.composing||i.$set(i.addrInfo,"name",t.target.value)}}})])]),i._v(" "),e("dl",[e("dt"),i._v(" "),e("dd",[e("a",{class:[2!=i.addrInfo.sex?"cur wrongIcon":"wrongIcon"],attrs:{href:"javascript:void(0);"},on:{click:function(t){return i.setSex(i.addrInfo,1)}}},[i._v("先生")]),i._v(" "),e("a",{class:[2==i.addrInfo.sex?"cur wrongIcon":"wrongIcon"],attrs:{href:"javascript:void(0);"},on:{click:function(t){return i.setSex(i.addrInfo,2)}}},[i._v("女士")])])]),i._v(" "),e("dl",[e("dt",[i._v("手机号：")]),i._v(" "),e("dd",{staticClass:"add-mobile"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.addrInfo.mobile,expression:"addrInfo.mobile"}],attrs:{type:"text",oninput:"if(value.length>11) value=value.slice(0,11)",placeholder:"请填写收货人手机号",name:""},domProps:{value:i.addrInfo.mobile},on:{input:function(t){t.target.composing||i.$set(i.addrInfo,"mobile",t.target.value)}}}),i._v(" "),i.smsStatus?e("span",{staticClass:"send-code"},[i._v("重新发送("+i._s(i.smsModel)+")")]):e("span",{staticClass:"send-code",on:{click:i.sendSms}},[i._v(i._s(i.smsModel))])])]),i._v(" "),e("dl",[e("dt",[i._v("验证码：")]),i._v(" "),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:i.addrInfo.code,expression:"addrInfo.code"}],attrs:{type:"number",oninput:"if(value.length>4) value=value.slice(0,4)",placeholder:"请填写验证码",name:""},domProps:{value:i.addrInfo.code},on:{input:function(t){t.target.composing||i.$set(i.addrInfo,"code",t.target.value)}}})])]),i._v(" "),e("dl",[e("dt",[i._v("收货地址：")]),i._v(" "),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:i.addrInfo.addr,expression:"addrInfo.addr"}],attrs:{type:"text",placeholder:"请填写收货地址",name:""},domProps:{value:i.addrInfo.addr},on:{input:function(t){t.target.composing||i.$set(i.addrInfo,"addr",t.target.value)}}})])]),i._v(" "),e("dl",[e("dt",[i._v("门牌号：")]),i._v(" "),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:i.addrInfo.detail,expression:"addrInfo.detail"}],attrs:{type:"text",placeholder:"详细地址，例：16号楼5层301室"},domProps:{value:i.addrInfo.detail},on:{input:function(t){t.target.composing||i.$set(i.addrInfo,"detail",t.target.value)}}})])]),i._v(" "),e("button",{on:{click:i.updateAddr}},[i._v("保存地址")])]),i._v(" "),e("live-footer",{staticClass:"live-foot",attrs:{findex:i.findex}})],1)},gt=[],ft={render:_t,staticRenderFns:gt},yt=ft,Ct=s("C7Lr"),wt=m,bt=Ct(ht,yt,!1,wt,"data-v-b07bb64c",null),xt=bt.exports,Bt={name:"order-success",data:function(){return{orders:{},order_id:"",openid:"",tel:""}},created:function(){this.order_id=this.$route.query.order_id,this.getOrderList()},methods:{myOrderListPath:function(){this.$router.replace({path:"/order/mylist"})},homePath:function(){var i=localStorage.getItem("roomid");1==this.DEBUG?this.$router.replace({path:"/room",query:{room_id:i,from:"groupmessage",isappinstalled:0}}):window.location.href=location.protocol+"//"+document.domain+"/front/#/room?room_id="+i},getOrderList:function(){var i=this;if(!i.order_id)return this.$vux.alert.show({title:"温馨提示",content:"无效订单号"}),!1;var t=new URLSearchParams;t.append("order_id",i.order_id),i.axiosPost("/client/orders",t).then(function(t){i.orders=t.data[0],i.tel=i.orders.mobile?"tel:"+i.orders.mobile:""},function(i){console.log(i)})}}},St=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"order"},[e("div",{staticClass:"orderHead"},[e("div",{staticClass:"orderTabMenu"},[e("a",{attrs:{href:"javascript:void(0);"}},[i._v("我的订单")]),i._v(" "),e("a",{attrs:{href:i.tel}},[i._v("联系园主")])]),i._v(" "),e("div",{staticClass:"paySuccess"},[e("h1",[i._v("订单支付成功")]),i._v(" "),e("p",[i._v("感性您对我们的支持，期待再次光临。")]),i._v(" "),e("a",{on:{click:i.homePath}},[i._v("返回主页")]),i._v(" "),e("a",{on:{click:i.myOrderListPath}},[i._v("订单列表")])])]),i._v(" "),e("div",{staticClass:"orderList"},[e("div",{staticClass:"tit"},[i._v(i._s(i.orders.room_name))]),i._v(" "),i._l(i.orders.list,function(t){return e("dl",[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.title)),e("span",[i._v("¥"+i._s(t.price)+" × "+i._s(t.num))])]),i._v(" "),e("p",[i._v(i._s(t.title))])])])}),i._v(" "),e("div",{staticClass:"total"},[e("p",[i._v("配送费¥"+i._s(i.orders.deliver_money)),e("span",[i._v(i._s(i.orders.express_name))])]),i._v(" "),e("p",[i._v("已优惠"+i._s(i.orders.discount_money)),e("span",[i._v("小计")]),e("span",[i._v("¥"+i._s(i.orders.total_money))])])]),i._v(" "),e("div",{staticClass:"total orderInfo"},[e("p",[i._v("订单信息")]),i._v(" "),e("ul",[e("li",[i._v("订单号码"),e("span",[i._v(i._s(i.orders.order_id))])]),i._v(" "),e("li",[i._v("下单时间"),e("span",[i._v(i._s(i.orders.create_time))])]),i._v(" "),e("li",[i._v("配送地址"),e("span",[i._v(i._s(i.orders.user_name)+" "+i._s(i.orders.user_phone)),e("br"),i._v(i._s(i.orders.user_address))])])])])],2)])},$t=[],kt={render:St,staticRenderFns:$t},Mt=kt,Pt=s("C7Lr"),Lt=Pt(Bt,Mt,!1,null,null,null),It=Lt.exports,Ot={name:"my-order",data:function(){return{orderList:{}}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var i=this,t=new URLSearchParams;i.axiosPost("/client/orders",t).then(function(t){i.orderList=t.data},function(i){console.log(i)})},orderDetail:function(i){}}},Vt=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"orderHead"},[i._m(0),i._v(" "),e("div",{staticClass:"myOrder "},i._l(i.orderList,function(t){return e("div",{staticClass:"orderBox",on:{click:function(e){return i.orderDetail(t)}}},[e("h4",{staticClass:"tit",style:{backgroundImage:"url("+t.logo_img+")"}},[i._v(i._s(t.room_name)),e("span",[i._v("订单号码："+i._s(t.order_id))])]),i._v(" "),i._l(t.list,function(t){return e("dl",[e("dt",[i._v(i._s(t.title)+" X "+i._s(t.num))]),i._v(" "),e("dd",[i._v(i._s(t.title))])])}),i._v(" "),e("p",[i._v("合计"),e("span",[i._v("¥"+i._s(t.total_money))])])],2)}),0)])},At=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"orderTabMenu"},[e("a",{attrs:{href:"#"}},[i._v("我的订单")])])}],Ft={render:Vt,staticRenderFns:At},Tt=Ft,jt=s("C7Lr"),Rt=jt(Ot,Tt,!1,null,null,null),Et=(Rt.exports,{name:"index",props:["room_id"],data:function(){return{roomList:{},order_id:"",openid:""}},inject:["reloadPage"],created:function(){this.getRoomList()},methods:{roomPath:function(i){this.reloadPage(),1==this.DEBUG?this.$router.replace({path:"/room",query:{room_id:i,from:"groupmessage",isappinstalled:0}}):window.location.replace(location.protocol+"//"+document.domain+"/front/#/room?room_id="+i)},getRoomList:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/list",t).then(function(t){i.roomList=t.data},function(i){console.log(i)})}}}),Ut=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"order"},[i._m(0),i._v(" "),i._l(i.roomList,function(t){return e("div",{staticClass:"swiper-slide con"},[e("h2",{staticClass:"tit videoIcon"},[i._v(i._s(t.room_name))]),i._v(" "),e("div",{staticClass:"filmList"}),i._v(" "),e("div",{staticClass:"roomFooter"},[e("img",{attrs:{src:t.online_cover},on:{click:function(e){return i.roomPath(t.id)}}})])])})],2)},Dt=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"roomTitle"},[e("h1",[i._v("直播间列表")])])}],Ht={render:Ut,staticRenderFns:Dt},Jt=Ht,qt=s("C7Lr"),Nt=qt(Et,Jt,!1,null,null,null),Wt=(Nt.exports,{name:"auth",created:function(){this.login()},methods:{login:function(){console.log("auth");var i=this,t="https://yc.adaxiang.com/rest/v1/wechat/auth-login",e=window.location.href.split("#")[0],s="";null!=Si.a.get("refer")&&(s=e+"#"+Si.a.get("refer"),s=encodeURIComponent(s)),t+="?refer="+s;var a=Si.a.get("uid");a?(localStorage.setItem("uid",a),localStorage.setItem("uname",Si.a.get("uname")),localStorage.setItem("uimg",Si.a.get("uimg")),refer_url=Si.a.get("refer")?Si.a.get("refer"):"front/",i.$router.replace({path:refer_url})):location.href=t}}}),Yt=function(){var i=this,t=i.$createElement;return(i._self._c||t)("div")},Gt=[],Kt={render:Yt,staticRenderFns:Gt},zt=Kt,Zt=s("C7Lr"),Xt=p,Qt=Zt(Wt,zt,!1,Xt,"data-v-0ea617a6",null),ie=Qt.exports,te={name:"tea"},ee=function(){var i=this,t=i.$createElement;return(i._self._c||t)("div",[i._v("\n  茶园\n")])},se=[],ae={render:ee,staticRenderFns:se},oe=ae,ne=s("C7Lr"),re=h,le=ne(te,oe,!1,re,"data-v-68b3e690",null),ce=le.exports,de={name:"educate",components:{"room-video":mi,Product:Bi,Comments:Ai},data:function(){return{bannerList:[],contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},lens:{},player:{},player2:{},aliplayer_config:{id:"J_prismPlayer",width:"100%",height:"240px",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,x5_type:!0,source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},videoList:[]}},provide:function(){return{reload:this.reload}},created:function(){this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:0,this.getVideoList(),this.getBanner(),this.getData(),this.getLens(),this.WxShare(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo)}),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(i.playinit=1),this.player2.length>0&&this.player2.on("pause",function(){this.player2.dispose()})},watch:{$route:function(){}},methods:{getBanner:function(){var i=this,t=new URLSearchParams;t.append("id",this.room_id),i.axiosPost("/room/banner",t).then(function(t){i.bannerList=t.data.banner})},showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){var i=this,t=(new Swiper(".room-banner",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets",bulletActiveClass:"live-banner-active"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0}}),new Swiper(".gallery-thumbs",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}));i.galleryTop=new Swiper(".gallery-top",{autoHeight:!0,spaceBetween:10,observer:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:t},on:{slideChangeTransitionStart:function(){i.switchContent(this.activeIndex)}}})},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;-1!=i.vurl.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!0,e.aliplayer_config.rePlay=!0,e.play_status=2),e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl,2==t&&(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config)},switchContent:function(i){switch(i){case 0:$(".shoppingCarBox").hide(),$(".sendMessMenu").hide();break;case 1:$(".shoppingCarBox").fadeIn(),$(".sendMessMenu").hide();break;case 2:$(".sendMessMenu").fadeIn(),$(".shoppingCarBox").hide();break;case 3:$(".shoppingCarBox").hide(),$(".sendMessMenu").hide()}},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!0,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",t.player=new Aliplayer(t.aliplayer_config),t.currentVideo=t.lens[0]):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){var e=t.player.getCurrentTime();t.aliplayer_config.isLive&&e<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},getVideoList:function(){var i=this;i.$vux.loading.show({text:"加载中~"});var t=new URLSearchParams;i.axiosPost("/room/videos?id="+this.room_id,t).then(function(t){if(i.$vux.loading.hide(),200==t.status){if(i.videoList=t.data.videos,i.videoList.length>0)for(var e=0;e<i.videoList.length;e++)i.videoList[e].status=1,i.videoList[e].vno="J_prismPlayer"+(e+1),i.aliplayer_config.source=i.videoList[e].vurl,i.aliplayer_config.id="J_prismPlayer"+(e+1)}else i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},playervideo:function(i,t,e){var s=document.body.clientWidth-30,a=9*s/16;this.video_height=a+"px",this.aliplayer_config.autoplay=!0,this.aliplayer_config.height=this.video_height,e.status=0,this.player2.length>0&&this.player2.dispose();var o=this;o.aliplayer_config.source=t,o.aliplayer_config.id=i,o.aliplayer_config.isLive=!1,o.aliplayer_config.useH5Prism=!0,this.player2=new Aliplayer(o.aliplayer_config),this.clickNum(e)},clickNum:function(i){var t=this;if(i.click++,t.subStatus)return!1;var e=new URLSearchParams;e.append("cid",i.id),e.append("ctype","video"),t.subStatus=!0,t.axiosPost("/room/click-num",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})},videoStart:function(i){var t=this;if(t.subStatus)return!1;i.start=1==i.start?0:1,t.subStatus=!0;var e=new URLSearchParams;e.append("id",i.id),e.append("stype",1),t.axiosPost("/client/user-start",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})},golinks:function(i){i.links&&window.location.replace(i.links)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage,hideMenuItems"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),console.log(e.$wechat),e.$wechat.ready(function(){var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.hideMenuItems({menuList:["menuItem:share:appMessage","menuItem:copyUrl","menuItem:share:timeline","menuItem:share:qq","menuItem:favorite","menuItem:share:QZone","menuItem:openWithSafari"]})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})}}},ue=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"room-header"},[e("div",{staticClass:"wiper-container room-banner"},[e("div",{staticClass:"swiper-wrapper"},i._l(i.bannerList,function(t,s){return e("div",{key:s,staticClass:"swiper-slide"},[e("img",{attrs:{src:t.cover},on:{click:[function(e){return i.golinks(t)},function(i){i.stopPropagation()}]}})])}),0),i._v(" "),e("div",{staticClass:"swiper-pagination"})])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("班级直播")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("班级视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("家庭视频")])])]),i._v(" "),e("div",{staticClass:"live-room-content"},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-slide slidescroll room-detail-info"},[e("h2",{staticClass:"tit videoIcon"},[i._v("直播")]),i._v(" "),e("div",{staticClass:"lens-list"},[e("div",{staticClass:"videoList"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player ",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})])]),i._v(" "),i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])})],2)]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                "+i._s(i.roomBasic.content)+"\n              ")])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-slide slidescroll room-video-list"},[e("h2",{staticClass:"tit videoIcon"},[i._v("短视频")]),i._v(" "),e("div",{staticClass:"filmList"},i._l(i.videoList,function(t){return t.sort_num<=100?e("div",{ref:"videoStyle",refInFor:!0,staticClass:"video_info"},[e("dl",[e("dt",{staticClass:"video_title"},[e("div",{staticClass:"video_item"},[e("div",{staticClass:"prism-player-video",style:{display:1==t.status?"none":"block"},attrs:{id:t.vno},on:{click:function(e){return i.clickNum(t)}}})]),i._v(" "),1==t.status?e("img",{attrs:{src:t.pic},on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e(),i._v(" "),1==t.status?e("div",{staticClass:"play-btn",on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e()]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.name))]),i._v(" "),e("p",[e("span",[i._v("片长："+i._s(t.vlength)+" 热度："+i._s(t.click))]),i._v(" "),e("span",[e("a",{class:[t.start?"zanIcon2":"zanIcon"],attrs:{href:"javascript:void(0);"}},[i._v("精选")])])])])])]):i._e()}),0)])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-slide slidescroll room-video-list"},[e("h2",{staticClass:"tit videoIcon"},[i._v("短视频")]),i._v(" "),e("div",{staticClass:"filmList"},i._l(i.videoList,function(t){return t.sort_num>100?e("div",{ref:"videoStyle",refInFor:!0,staticClass:"video_info"},[e("dl",[e("dt",{staticClass:"video_title"},[e("div",{staticClass:"video_item"},[e("div",{staticClass:"prism-player-video",style:{display:1==t.status?"none":"block"},attrs:{id:t.vno},on:{click:function(e){return i.clickNum(t)}}})]),i._v(" "),1==t.status?e("img",{attrs:{src:t.pic},on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e(),i._v(" "),1==t.status?e("div",{staticClass:"play-btn",on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e()]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.name))]),i._v(" "),e("p",[e("span",[i._v("片长："+i._s(t.vlength)+" 热度："+i._s(t.click))]),i._v(" "),e("span",[e("a",{class:[t.start?"zanIcon2":"zanIcon"],attrs:{href:"javascript:void(0);"}},[i._v("精选")])])])])])]):i._e()}),0)])])])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},ve=[],me={render:ue,staticRenderFns:ve},pe=me,he=s("C7Lr"),_e=_,ge=he(de,pe,!1,_e,"data-v-bb50a6d0",null),fe=ge.exports,ye={name:"live-old",components:{"room-video":mi,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",width:"100%",height:"240px",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,x5_type:"h5",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""}}},provide:function(){return{reload:this.reload}},created:function(){this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(i.playinit=1)},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){var i=this,t=new Swiper(".gallery-thumbs",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0});i.galleryTop=new Swiper(".gallery-top",{autoHeight:!0,spaceBetween:10,observer:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:t},on:{slideChangeTransitionStart:function(){i.switchContent(this.activeIndex)}}})},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;-1!=i.vurl.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!0,e.aliplayer_config.rePlay=!0,e.play_status=2),e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl,2==t&&(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback),e.currentVideo=i,e.player=new Aliplayer(e.aliplayer_config)},switchContent:function(i){switch(i){case 0:$(".shoppingCarBox").hide(),$(".sendMessMenu").hide();break;case 1:$(".shoppingCarBox").fadeIn(),$(".sendMessMenu").hide();break;case 2:$(".sendMessMenu").fadeIn(),$(".shoppingCarBox").hide();break;case 3:$(".shoppingCarBox").hide(),$(".sendMessMenu").hide()}},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!0,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.player=new Aliplayer(t.aliplayer_config),t.currentVideo=t.lens[0]):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&parseInt(i.total_price)<parseInt(i.deliver))return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){var e=t.player.getCurrentTime();t.aliplayer_config.isLive&&e<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),console.log(e.$wechat),e.$wechat.ready(function(){var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})}}},Ce=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player ",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i._m(0)]),i._v(" "),e("div",{staticClass:"title"},[e("dl",[e("dt",[e("h1",[e("span",[i._v(i._s(i.roomBasic.room_name))]),e("span",[i._v(i._s(i.roomBasic.click_num))])]),i._v(" "),e("p",[i._v(i._s(i.roomBasic.addr))])]),i._v(" "),e("dd",[1==i.play_status?e("span",{staticClass:"live"},[e("i"),i._v("正在直播")]):i._e(),i._v(" "),2==i.play_status?e("span",{staticClass:"playback"},[e("i"),i._v("精彩回放")]):i._e()])])]),i._v(" "),e("div",{staticClass:"line"}),i._v(" "),e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("实时视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(3)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("h2",{staticClass:"tit videoIcon"},[i._v("溯源镜头")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                            "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                ")])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"my-order"},[e("router-link",{attrs:{to:{path:"orders"}}},[e("span",[i._v("我的订单>")])])],1),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                         "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"shopList"},[e("product",{ref:"product",attrs:{room_id:i.room_id},on:{buy_price:i.countPrice}})],1)]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),i._m(1)])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:[function(t){t.target.composing||(i.comment=t.target.value)},i.checkLogin]}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},we=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("Z2Ou")}})])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footerLogo"},[e("img",{attrs:{src:s("TPZN")}})])}],be={render:Ce,staticRenderFns:we},xe=be,Be=s("C7Lr"),Se=f,$e=Be(ye,xe,!1,Se,"data-v-32f4656d",null),ke=$e.exports,Me={name:"room-video",props:["room_id"],data:function(){return{openid:"",subStatus:!1,videoList:[],roomVideoPlayer:{},video_height:0,aliplayer_config:{id:"",width:"100%",height:"195px",autoplay:!0,isLive:!1,rePlay:!1,playsinline:!0,preload:!1,controlBarVisibility:"hover",useH5Prism:!0,x5_type:"video",source:"http://aliplay.adaxiang.com/kr/wc001.m3u8",cover:"",skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]}}},created:function(){var i=document.body.clientWidth-30,t=9*i/16;this.video_height=t+"px",this.aliplayer_config.height=this.video_height,this.openid=localStorage.getItem("openid"),this.getData()},mounted:function(){},methods:{getData:function(){var i=this;i.$vux.loading.show({text:"加载中~"});var t=new URLSearchParams;i.axiosPost("/room/videos?id="+this.room_id,t).then(function(t){if(i.$vux.loading.hide(),200==t.status){if(i.videoList=t.data.videos,i.videoList.length>0)for(var e=0;e<i.videoList.length;e++)i.videoList[e].status=1,i.videoList[e].vno="J_prismPlayer"+(e+1),i.aliplayer_config.source=i.videoList[e].vurl,i.aliplayer_config.id="J_prismPlayer"+(e+1)}else i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},playervideo:function(i,t,e){this.$parent&&this.$parent.hasOwnProperty("stopMUisc")&&this.$parent.stopMUisc(),e.status=0,this.roomVideoPlayer.length>0&&this.roomVideoPlayer.dispose();var s=this;s.aliplayer_config.source=t,s.aliplayer_config.id=i,this.roomVideoPlayer=new Aliplayer(s.aliplayer_config),this.clickNum(e)},clickNum:function(i){var t=this;if(i.click++,t.subStatus)return!1;var e=new URLSearchParams;e.append("cid",i.id),e.append("ctype","video"),t.subStatus=!0,t.axiosPost("/room/click-num",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})},videoStart:function(i){var t=this;if(t.subStatus)return!1;i.start=1==i.start?0:1,t.subStatus=!0;var e=new URLSearchParams;e.append("id",i.id),e.append("stype",1),t.axiosPost("/client/user-start",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})}}},Pe=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",i._l(i.videoList,function(t){return e("div",{ref:"videoStyle",refInFor:!0,staticClass:"video_info"},[e("dl",[e("dt",{staticClass:"video_title"},[e("div",{staticClass:"video_item"},[e("div",{staticClass:"prism-player-video",style:{display:1==t.status?"none":"block"},attrs:{id:t.vno},on:{click:function(e){return i.clickNum(t)}}})]),i._v(" "),1==t.status?e("img",{attrs:{src:t.pic},on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e()]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.name))]),i._v(" "),e("p",[e("span",[i._v("片长："+i._s(t.vlength)+" 热度："+i._s(t.click))]),i._v(" "),e("span",[e("a",{class:[t.start?"zanIcon2":"zanIcon"],attrs:{href:"javascript:void(0);"},on:{click:function(e){return i.videoStart(t)}}},[i._v("赞")])])])])])])}),0)},Le=[],Ie={render:Pe,staticRenderFns:Le},Oe=Ie,Ve=s("C7Lr"),Ae=y,Fe=Ve(Me,Oe,!1,Ae,"data-v-1a50f97e",null),Te=Fe.exports,je={name:"room",components:{"room-video":Te,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"h5",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),i.isAndroid||(i.playinit=1),this.timer=setInterval(function(){i.getCurrentTime()},1e3),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.liveMusicObj.pause(),i.lensMusicObj.pause())})},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;2==t?(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.source!=i.vurl_reback?(e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback,e.VideoCoverImg=i.reback_img):(e.aliplayer_config.cover=i.spare_cover_url,e.aliplayer_config.source=i.spare_url,e.VideoCoverImg=i.spare_cover_url)):(e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl),-1!=e.aliplayer_config.source.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!0,e.play_status=2),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.initMusic()},switchContent:function(i){$(".swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide(),1==i?($(".shoppingCarBox").show(),$(".sendMessMenu").hide()):2==i?($(".sendMessMenu").show(),$(".shoppingCarBox").hide()):($(".shoppingCarBox").hide(),$(".sendMessMenu").hide())})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",console.log(t.play_status),t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.aliplayer_config.autoplay&&t.checkVideoPlayer(t.lens[0]),t.currentVideo=t.lens[0],t.initMusic()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&parseInt(i.total_price)<parseInt(i.deliver))return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){t.player.getCurrentTime()<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){this.$router.replace({path:"/"})},fullScreenHandle:function(){},cancelFullScreenHandel:function(){console.log("stopMUisc")},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1}}},Re=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"room-deader"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i._m(0),i._v(" "),i.currentVideo.live_music?e("div",{staticClass:"live-music"},[e("div",{class:i.musicFlag?"live-music-icon active":"live-music-icon",on:{click:i.playMusic}})]):i._e(),i._v(" "),e("div",{staticClass:"live-home-icon",on:{click:i.goHome}}),i._v(" "),e("div",{staticClass:"live-view-icon"},[i._v("热度 "+i._s(i.roomBasic.click_num)+" 人")])]),i._v(" "),e("div",{staticClass:"live-music-detail"},[e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.lens_music,loop:"loop",id:"lens-music"}}),i._v(" "),e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.live_music,loop:"loop",id:"live-music"}})])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("实时视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(3)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"live-room-content"},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("溯源镜头")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll "},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"my-order"},[e("router-link",{attrs:{to:{path:"orders"}}},[e("span",[i._v("我的订单>")])])],1),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"shopList"},[e("product",{ref:"product",attrs:{room_id:i.room_id},on:{buy_price:i.countPrice}})],1)])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1)])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),i._m(1)])])])])])])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:[function(t){t.target.composing||(i.comment=t.target.value)},i.checkLogin]}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},Ee=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("Z2Ou")}})])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footerLogo"},[e("img",{attrs:{src:s("TPZN")}})])}],Ue={render:Re,staticRenderFns:Ee},De=Ue,He=s("C7Lr"),Je=C,qe=He(je,De,!1,Je,"data-v-f7fd955a",null),Ne=qe.exports,We={name:"room-common",components:{"room-video":Te,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"h5",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),i.isAndroid||(i.playinit=1),this.timer=setInterval(function(){i.getCurrentTime()},1e3),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.lensMusicObj.currentTime=0,i.liveMusicObj.currentTime=0)})},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;2==t?(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.source!=i.vurl_reback?(e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback,e.VideoCoverImg=i.reback_img):(e.aliplayer_config.cover=i.spare_cover_url,e.aliplayer_config.source=i.spare_url,e.VideoCoverImg=i.spare_cover_url)):(e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl),-1!=e.aliplayer_config.source.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!0,e.play_status=2),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.initMusic()},switchContent:function(i){$(".swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide(),1==i?$(".sendMessMenu").show():$(".sendMessMenu").hide()})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",console.log(t.play_status),t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.aliplayer_config.autoplay&&t.checkVideoPlayer(t.lens[0]),t.currentVideo=t.lens[0],t.initMusic()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&parseInt(i.total_price)<parseInt(i.deliver))return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){t.player.getCurrentTime()<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){2==e.play_status&&(e.musicFlag=!0,e.playBgMusic());var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){this.$router.replace({path:"/"})},fullScreenHandle:function(){},cancelFullScreenHandel:function(){console.log("stopMUisc")},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1}}},Ye=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"room-deader"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i._m(0),i._v(" "),i.currentVideo.live_music?e("div",{staticClass:"live-music"},[e("div",{class:i.musicFlag?"live-music-icon active":"live-music-icon",on:{click:i.playMusic}})]):i._e(),i._v(" "),e("div",{staticClass:"live-home-icon",on:{click:i.goHome}}),i._v(" "),e("div",{staticClass:"live-view-icon"},[i._v("热度 "+i._s(i.roomBasic.click_num)+" 人")])]),i._v(" "),e("div",{staticClass:"live-music-detail"},[e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.lens_music,loop:"loop",id:"lens-music"}}),i._v(" "),e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.live_music,loop:"loop",id:"live-music"}})])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("实时视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"live-room-content"},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("实时镜头")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("详情介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1)])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),i._m(1)])])])])])])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:[function(t){t.target.composing||(i.comment=t.target.value)},i.checkLogin]}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},Ge=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("Z2Ou")}})])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footerLogo"},[e("img",{attrs:{src:s("TPZN")}})])}],Ke={render:Ye,staticRenderFns:Ge},ze=Ke,Ze=s("C7Lr"),Xe=w,Qe=Ze(We,ze,!1,Xe,"data-v-c9232cda",null),is=Qe.exports,ts={name:"room",components:{"room-video":Te,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"h5",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),i.isAndroid||(i.playinit=1),this.timer=setInterval(function(){i.getCurrentTime()},1e3),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.lensMusicObj.currentTime=0,i.liveMusicObj.currentTime=0)})},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;2==t?(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.source!=i.vurl_reback?(e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback,e.VideoCoverImg=i.reback_img):(e.aliplayer_config.cover=i.spare_cover_url,e.aliplayer_config.source=i.spare_url,e.VideoCoverImg=i.spare_cover_url)):(e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl),-1!=e.aliplayer_config.source.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!0,e.play_status=2),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.initMusic(),2==e.play_status&&e.playBgMusic()},switchContent:function(i){$(".swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide(),1==i?($(".shoppingCarBox").show(),$(".sendMessMenu").hide()):2==i?($(".sendMessMenu").show(),$(".shoppingCarBox").hide()):($(".shoppingCarBox").hide(),$(".sendMessMenu").hide())})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",console.log(t.play_status),t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.aliplayer_config.autoplay&&t.checkVideoPlayer(t.lens[0]),t.currentVideo=t.lens[0],t.initMusic(),2==t.play_status&&t.playBgMusic()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&parseInt(i.total_price)<parseInt(i.deliver))return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){t.player.getCurrentTime()<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){2==e.play_status&&(e.musicFlag=!0,e.playBgMusic());var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){window.location.href=this.roomBasic.addr_url},fullScreenHandle:function(){this.musicFlag=!0,this.liveMusicObj.play(),this.player.tag.style.height=window.height},cancelFullScreenHandel:function(){console.log("stopMUisc")},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1}}},es=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"room-deader"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i._m(0),i._v(" "),i.currentVideo.live_music?e("div",{staticClass:"live-music"},[e("div",{class:i.musicFlag?"live-music-icon active":"live-music-icon",on:{click:i.playMusic}})]):i._e(),i._v(" "),i.roomBasic.addr_url?e("div",{staticClass:"live-home-icon",on:{click:i.goHome}}):i._e(),i._v(" "),e("div",{staticClass:"live-view-icon"},[i._v("热度 "+i._s(i.roomBasic.click_num)+" 人")])]),i._v(" "),e("div",{staticClass:"live-music-detail"},[e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.lens_music,loop:"loop",id:"lens-music"}}),i._v(" "),e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.live_music,loop:"loop",id:"live-music"}})])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("实时视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(3)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"live-room-content"},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("溯源镜头")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll "},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"my-order"},[e("router-link",{attrs:{to:{path:"orders"}}},[e("span",[i._v("我的订单>")])])],1),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"shopList"},[e("product",{ref:"product",attrs:{room_id:i.room_id},on:{buy_price:i.countPrice}})],1)])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1)])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),i._m(1)])])])])])])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:[function(t){t.target.composing||(i.comment=t.target.value)},i.checkLogin]}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},ss=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("Z2Ou")}})])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footerLogo"},[e("img",{attrs:{src:s("TPZN")}})])}],as={render:es,staticRenderFns:ss},os=as,ns=s("C7Lr"),rs=x,ls=ns(ts,os,!1,rs,"data-v-7dc63af9",null),cs=ls.exports,ds={name:"room-common",components:{"room-video":Te,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"h5",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),i.isAndroid||(i.playinit=1),this.timer=setInterval(function(){i.getCurrentTime()},1e3),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.lensMusicObj.currentTime=0,i.liveMusicObj.currentTime=0)})},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;2==t?(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.source!=i.vurl_reback?(e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback,e.VideoCoverImg=i.reback_img):(e.aliplayer_config.cover=i.spare_cover_url,e.aliplayer_config.source=i.spare_url,e.VideoCoverImg=i.spare_cover_url)):(e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl),-1!=e.aliplayer_config.source.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!0,e.play_status=2),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.initMusic(),2==e.play_status&&e.playBgMusic()},switchContent:function(i){$(".swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide(),1==i?$(".sendMessMenu").show():$(".sendMessMenu").hide()})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",console.log(t.play_status),t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.aliplayer_config.autoplay&&t.checkVideoPlayer(t.lens[0]),t.currentVideo=t.lens[0],t.initMusic(),2==t.play_status&&t.playBgMusic()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&parseInt(i.total_price)<parseInt(i.deliver))return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){t.player.getCurrentTime()<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){2==e.play_status&&(e.musicFlag=!0,e.playBgMusic());var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){window.location.href=this.roomBasic.addr_url},fullScreenHandle:function(){this.musicFlag=!0,this.liveMusicObj.play(),this.player.tag.style.height=window.height},cancelFullScreenHandel:function(){console.log("stopMUisc")},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1}}},us=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"room-deader"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i.currentVideo.live_music?e("div",{staticClass:"live-music"},[e("div",{class:i.musicFlag?"live-music-icon active":"live-music-icon",on:{click:i.playMusic}})]):i._e(),i._v(" "),i.roomBasic.addr_url?e("div",{staticClass:"live-home-icon",on:{click:i.goHome}}):i._e(),i._v(" "),e("div",{staticClass:"live-view-icon"},[i._v("热度 "+i._s(i.roomBasic.click_num)+" 人")])]),i._v(" "),e("div",{staticClass:"live-music-detail"},[e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.lens_music,loop:"loop",id:"lens-music"}}),i._v(" "),e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.live_music,loop:"loop",id:"live-music"}})])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("实时视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"live-room-content"},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("实时镜头")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("详情介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1)])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),i._m(0)])])])])])])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:[function(t){t.target.composing||(i.comment=t.target.value)},i.checkLogin]}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},vs=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footerLogo"},[e("img",{attrs:{src:s("TPZN")}})])}],ms={render:us,staticRenderFns:vs},ps=ms,hs=s("C7Lr"),_s=B,gs=hs(ds,ps,!1,_s,"data-v-6ba561fe",null),fs=gs.exports,ys=s("X1H5"),Cs=s.n(ys),ws={name:"room-mini",components:{"room-video":Te,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"h5",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),i.isAndroid||(i.playinit=1),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),$(".videoCover").attr("class"),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),this.timer=setInterval(function(){i.getCurrentTime()},1e3),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.lensMusicObj.pause(),i.liveMusicObj.pause(),i.player.pause())})},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;2==t?(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.source!=i.vurl_reback?(e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback,e.VideoCoverImg=i.reback_img):(e.aliplayer_config.cover=i.spare_cover_url,e.aliplayer_config.source=i.spare_url,e.VideoCoverImg=i.spare_cover_url)):(e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl),-1!=e.aliplayer_config.source.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!0,e.play_status=2),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.stopMUisc(),e.currentVideo=i,e.initMusic()},switchContent:function(i){$(".swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide(),1==i?$(".sendMessMenu").show():$(".sendMessMenu").hide()})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",console.log(t.play_status),t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.aliplayer_config.autoplay&&t.checkVideoPlayer(t.lens[0]),t.currentVideo=t.lens[0],t.initMusic()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&parseInt(i.total_price)<parseInt(i.deliver))return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){t.player.getCurrentTime()<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage");var a=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;Cs.a.miniProgram.postMessage({data:{title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:a,roomId:e.room_id}}),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:a,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:a,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){this.$router.replace({path:"/"})},fullScreenHandle:function(){},cancelFullScreenHandel:function(){console.log("stopMUisc")},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1}}},bs=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"room-deader"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i._m(0),i._v(" "),i.currentVideo.live_music?e("div",{staticClass:"live-music"},[e("div",{class:i.musicFlag?"live-music-icon active":"live-music-icon",on:{click:i.playMusic}})]):i._e(),i._v(" "),e("div",{staticClass:"live-home-icon",on:{click:i.goHome}}),i._v(" "),e("div",{staticClass:"live-view-icon"},[i._v("热度 "+i._s(i.roomBasic.click_num)+" 人")])]),i._v(" "),e("div",{staticClass:"live-music-detail"},[e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.lens_music,loop:"loop",id:"lens-music"}}),i._v(" "),e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.live_music,loop:"loop",id:"live-music"}})])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("实时视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"live-room-content"},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("实时镜头")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("详情介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1)])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),i._m(1)])])])])])])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:[function(t){t.target.composing||(i.comment=t.target.value)},i.checkLogin]}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},xs=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("Z2Ou")}})])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"footerLogo"},[e("img",{attrs:{src:s("TPZN")}})])}],Bs={render:bs,staticRenderFns:xs},Ss=Bs,$s=s("C7Lr"),ks=S,Ms=$s(ws,Ss,!1,ks,"data-v-3edca844",null),Ps=Ms.exports,Ls=s("fRcE"),Is=s("uiKT"),Os=(Ls.a,Is.a,{name:"snapshot",components:{"room-video":Te,Product:Bi,Comments:Ai,XDialog:Ls.a},directives:{TransferDom:Is.a},data:function(){return{bannerList:[],contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"video",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date,imageDialog:!0,dialogInfo:{link:"",type:1,showDialog:!1},snapshotList:[],videoList:[],videoLensId:0,videoPage:1,player2:{},roomEnd:!1}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id,this.getBanner(),this.getData(),this.getLens(),this.getSnapshot(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),i.isAndroid||(i.playinit=1),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),console.log(i.player),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),this.timer=setInterval(function(){i.getCurrentTime()},1e3),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.lensMusicObj.currentTime=0,i.liveMusicObj.currentTime=0)}),$(function(){var t=$("#tabMenu").offset().top+150;$(window).scroll(function(){var e=$(this).scrollTop();e>=t?$("#tabMenu").addClass("fix-tab-menu"):e<t&&$("#tabMenu").removeClass("fix-tab-menu");var s=$(this).scrollTop(),a=$(document).height();s+$(this).height()>=a&&!i.loadding&&!i.roomEnd&&i.getVideoList()}),i.switchContent(0),setTimeout(function(){i.$previewRefresh()},1e3)}),document.querySelector("body").setAttribute("style","background-color:#F3F4F6")},watch:{$route:function(){}},methods:{getBanner:function(){var i=this,t=new URLSearchParams;t.append("id",this.room_id),i.axiosPost("/room/banner",t).then(function(t){i.bannerList=t.data.banner})},showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){new Swiper(".banner",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets",bulletActiveClass:"live-banner-active"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0}})},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;2==t?(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.source!=i.vurl_reback?(e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback,e.VideoCoverImg=i.reback_img):(e.aliplayer_config.cover=i.spare_cover_url,e.aliplayer_config.source=i.spare_url,e.VideoCoverImg=i.spare_cover_url)):(e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl),-1!=e.aliplayer_config.source.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!0,e.play_status=2),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.initMusic()},switchContent:function(i){$(".tabMenu .swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide()})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare()},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){if(t.$vux.loading.hide(),200==e.status){t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.aliplayer_config.autoplay&&t.checkVideoPlayer(t.lens[0]);for(var s in t.lens)if("lens"==t.lens[s].source_type){t.videoLensId=t.lens[s].aid,t.getVideoList();break}t.currentVideo=t.lens[0],t.initMusic()}else i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){t.player.getCurrentTime()<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){this.$router.replace({path:"/"})},fullScreenHandle:function(){},cancelFullScreenHandel:function(){},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1},getVideoList:function(){var i=this;i.loadding=!0;var t=new URLSearchParams;t.append("page",i.videoPage),t.append("id",i.room_id),t.append("sid",i.videoLensId),i.axiosPost("/room/source-video",t).then(function(t){i.loadding=!1,i.$vux.loading.hide(),200==t.status?t.data.length>0?(t.data.forEach(function(t,e){i.videoList.push(t)}),i.videoPage++):i.roomEnd=!0:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},changeVideo:function(i){this.videoLensId=i.aid,this.videoList=[],this.videoPage=1,this.getVideoList()},getSnapshot:function(){var i=this;i.loadding=!0;var t=new URLSearchParams;t.append("page",i.snapshotPage),t.append("id",i.room_id),i.axiosPost("/room/snapshot",t).then(function(t){i.loadding=!1,i.$vux.loading.hide(),200==t.status?t.data.length>0?(t.data.forEach(function(t,e){i.snapshotList.push(t)}),i.snapshotPage++):i.roomEnd=!0:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},showDialog:function(i,t){this.dialogInfo.link=i,this.dialogInfo.type=t,this.dialogInfo.showDialog=!0},hideDialog:function(){},showVideoDialog:function(i){this.VideoCoverImg="",$("#player2").empty();var t=this,e={id:"player2",source:i,cover:"https://yc.adaxiang.com/front/static/images/video_load.gif",width:"100%",height:"100%",autoplay:!1,isLive:!1,rePlay:!1,playsinline:!0,preload:!1,controlBarVisibility:"hover",useH5Prism:!0,x5_type:"video",skinLayout:[{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]};t.player2=new Aliplayer(e),$(".play-btn").show(),$(".video-dialog").show()},playervideo:function(){$(".play-btn").hide(),this.player2.play()},hideVideoDialog:function(){$(".video-dialog").hide(),this.player2.stop(),this.player2.dispose(),$("#player2").empty()}}}),Vs=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info snapshot",attrs:{id:"snapshot"}},[e("div",{staticClass:"room-header snapshot-header"},[e("div",{staticClass:"company-info"},[e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))])]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),i._m(0)])]),i._v(" "),e("div",{staticClass:"room-banner-container"},[e("div",{staticClass:"swiper-container banner"},[e("div",{staticClass:"swiper-wrapper"},i._l(i.bannerList,function(t,s){return e("div",{key:s,staticClass:"swiper-slide"},[e("a",{attrs:{href:""!=t.links?t.links:"javascript:void(0);"}},[e("img",{attrs:{src:t.cover},on:{click:[function(e){return i.goBanner(t)},function(i){i.stopPropagation()}]}})])])}),0),i._v(" "),e("div",{staticClass:"swiper-pagination"})])])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"gallery-thumbs",attrs:{id:"tabMenu"}},[e("div",{staticClass:"tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("溯源直播")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("基地介绍")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("溯源回放")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(3)}}},[i._v("溯源查询")])])]),i._v(" "),e("div",{staticClass:"live-room-content",attrs:{id:"live-room-content"}},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide"},[e("div",{staticClass:"lens-list"},[e("div",{staticClass:"videoList"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player ",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})])]),i._v(" "),i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])})],2)])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll "},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con snapshot-video-slider",attrs:{id:"snapshot-video-slider"}},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll video-container"},[i._m(1),i._v(" "),e("div",{staticClass:"lens"},[e("div",{staticClass:"videoList"},i._l(i.lens,function(t,s){return"lens"==t.source_type?e("dl",{class:["live-1",t.aid==i.videoLensId?"active":""],on:{click:function(e){return i.changeVideo(t)}}},[e("dd",[i._v(i._s(t.name))])]):i._e()}),0)]),i._v(" "),e("div",{staticClass:"video-list"},[i._m(2),i._v(" "),e("div",{staticClass:"video-main"},i._l(i.videoList,function(t,s){return e("div",{staticClass:"video-item",on:{click:function(e){return i.showVideoDialog(t.uri)}}},[e("div",{staticClass:"num"},[i._v(i._s(s+1))]),i._v(" "),e("div",{staticClass:"create-time"},[i._v(i._s(t.start_time))]),i._v(" "),e("div",{staticClass:"video-len"},[i._v(i._s(t.duration)+"秒")]),i._v(" "),e("div",{staticClass:"video-edit"},[i._v("点击播放")])])}),0)])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con snapshot-image-slider",attrs:{id:"snapshot-image-slider"}},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll image-container"},[i._m(3),i._v(" "),e("div",{staticClass:"image-list"},i._l(i.snapshotList,function(t,s){return e("div",{staticClass:"image-item"},[e("div",{staticClass:"image-content"},[e("img",{attrs:{preview:s,"preview-text":t.title,src:t.cover}})]),i._v(" "),e("div",{staticClass:"image-intro"},[e("div",{staticClass:"image-title"},[i._v(i._s(t.title))]),i._v(" "),e("div",{staticClass:"image-time"},[i._v(i._s(t.created_time))])])])}),0)])])])])])])])]),i._v(" "),e("div",{staticClass:"video-dialog"},[e("div",{staticClass:"video-dialog-mask",on:{click:i.hideVideoDialog}}),i._v(" "),e("div",{staticClass:"video-dialog-container"},[e("div",{staticClass:"prism-player-video",attrs:{id:"player2"}}),i._v(" "),e("div",{staticClass:"play-btn",on:{click:function(t){return i.playervideo()}}})])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},As=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"source-info"},[e("p",[i._v("溯源编码: YC304190201")]),i._v(" "),e("p",[i._v("查询次数: 1")])])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"snapshot-intro-header"},[e("div",{staticClass:"title"},[i._v("优质产品，24小时监督")]),i._v(" "),e("div",{staticClass:"mark"})])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"video-header"},[e("div",{staticClass:"num"},[i._v("编号")]),i._v(" "),e("div",{staticClass:"create-time"},[i._v("时间")]),i._v(" "),e("div",{staticClass:"video-len"},[i._v("片长")]),i._v(" "),e("div",{staticClass:"video-edit"},[i._v("操作")])])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"snapshot-intro-header"},[e("div",{staticClass:"title"},[i._v("优质产品，全过程追溯")]),i._v(" "),e("div",{staticClass:"mark"},[i._v("长按图片，可下载保存")])])}],Fs={render:Vs,staticRenderFns:As},Ts=Fs,js=s("C7Lr"),Rs=k,Es=js(Os,Ts,!1,Rs,"data-v-b8db3ba4",null),Us=Es.exports,Ds=(Ls.a,Is.a,{name:"educate-news",components:{"room-video":Te,Product:Bi,Comments:Ai,XDialog:Ls.a},directives:{TransferDom:Is.a},data:function(){return{bannerList:[],contabObj:{},contentSwiper:{},currentVideo:{},playing:2,playinit:2,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"video",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:"",wx_logo:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date,imageDialog:!0,eduList:[],videoLensId:0,page:1,roomEnd:!1,showArticle:!1,articleList:[],findex:"live",footer:[{fname:"live",fclass:"live-foot-live",ftext:"现场直播",path:"/"},{fname:"article",fclass:"live-foot-video",ftext:"活动中心",path:""},{fname:"my",fclass:"live-foot-user",ftext:"联系我们",path:""}]}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id,this.getBanner(),this.getData(),this.getLens(),this.getSnaphot(),this.getArticleList(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),i.isAndroid||(i.playinit=1),$("#J_prismPlayer").click(function(){i.playinit=2,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),this.timer=setInterval(function(){i.getCurrentTime()},1e3),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.liveMusicObj.pause(),i.lensMusicObj.pause())}),$(function(){var t=$("#tabMenu").offset().top+150;$(window).scroll(function(){var e=$(this).scrollTop();e>=t?$("#tabMenu").addClass("fix-tab-menu"):e<t&&$("#tabMenu").removeClass("fix-tab-menu");var s=$(this).scrollTop(),a=$(document).height();s+$(this).height()>=a&&!i.loadding&&!i.roomEnd&&i.getArticleList()}),i.switchContent(0),setTimeout(function(){i.$previewRefresh()},1e3)}),document.querySelector("body").setAttribute("style","background-color:#F3F4F6")},watch:{$route:function(){}},methods:{getBanner:function(){var i=this,t=new URLSearchParams;t.append("id",this.room_id),i.axiosPost("/room/banner",t).then(function(t){i.bannerList=t.data.banner})},showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){new Swiper(".banner",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets",bulletActiveClass:"live-banner-active"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0}})},switchVideo:function(i,t){this.playinit=2,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;2==t?(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.source!=i.vurl_reback?(e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback,e.VideoCoverImg=i.reback_img):(e.aliplayer_config.cover=i.spare_cover_url,e.aliplayer_config.source=i.spare_url,e.VideoCoverImg=i.spare_cover_url)):(e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl),-1!=e.aliplayer_config.source.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!0,e.play_status=2),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.aliplayer_config.autoplay&&this.checkVideoPlayer(i),e.currentVideo=i,e.initMusic()},switchContent:function(i){this.showArticle=!1,this.findex="live",$(".tabMenu .swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide()})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.roomBasic.wx_logo=t.data.wx_logo,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare()},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.aliplayer_config.autoplay&&t.checkVideoPlayer(t.lens[0]),t.currentVideo=t.lens[0],t.initMusic()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){t.player.getCurrentTime()<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=1,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.wx_logo,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.wx_logo,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){this.$router.replace({path:"/"})},fullScreenHandle:function(){},cancelFullScreenHandel:function(){},stopMUisc:function(){this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.pause(),this.player.pause()},checkLogin:function(){if(!Si.a.get("uid"))return this.$vux.alert.show({title:"温馨提示",content:"请先登录"}),Si.a.set("refer","/room?room_id="+this.room_id,{path:"/",expires:7200}),this.$router.replace({path:"/auth"}),console.log("请先登录"),!1},getSnaphot:function(){var i=this;i.loadding=!0;var t=new URLSearchParams;t.append("page",i.eduPage),t.append("id",i.room_id),i.axiosPost("/room/snapshot",t).then(function(t){i.loadding=!1,i.$vux.loading.hide(),200==t.status?t.data.length>0?(t.data.forEach(function(t,e){i.eduList.push(t)}),i.eduPage++):i.roomEnd=!0:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},getArticleList:function(){var i=this;i.loadding=!0;var t=new URLSearchParams;t.append("page",i.page),t.append("room_id",i.room_id),i.axiosPost("/room/article",t).then(function(t){i.loadding=!1,i.$vux.loading.hide(),200==t.status?t.data.length>0?(t.data.forEach(function(t,e){i.articleList.push(t)}),i.page++):i.roomEnd=!0:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},changeIndex:function(i){var t=this;switch(t.switchContent(0),i){case"live":t.showArticle=!1;break;case"article":t.showArticle=!0;break;case"my":var e=$(document).height()-$(window).height();$(document).scrollTop(e),t.showArticle=!1}t.findex=i},goArticle:function(i){this.$router.push({path:"/article",query:{room_id:i.room_id,aid:i.id,from:"groupmessage",isappinstalled:0}})}}}),Hs=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info edu",attrs:{id:"edu"}},[e("div",{staticClass:"room-header edu-header"},[e("div",{staticClass:"company-info"},[e("div",{staticClass:"company"},[e("div",{staticClass:"company-logo"},[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dl",[e("dd",[e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])])])]),i._v(" "),e("div",{staticClass:"room-banner-container"},[e("div",{staticClass:"swiper-container banner"},[e("div",{staticClass:"swiper-wrapper"},i._l(i.bannerList,function(t,s){return e("div",{key:s,staticClass:"swiper-slide"},[e("a",{attrs:{href:""!=t.links?t.links:"javascript:void(0);"}},[e("img",{attrs:{src:t.cover},on:{click:[function(e){return i.goBanner(t)},function(i){i.stopPropagation()}]}})])])}),0),i._v(" "),e("div",{staticClass:"swiper-pagination"})])])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"gallery-thumbs",attrs:{id:"tabMenu"}},[e("div",{staticClass:"tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("中心介绍")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[e("span",{staticClass:"live-icon"},[i._v("现场直播")])]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("精彩视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(3)}}},[i._v("精彩照片")])])]),i._v(" "),e("div",{staticClass:"live-room-content",attrs:{id:"live-room-content"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!i.showArticle,expression:"!showArticle"}],staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll "},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide"},[e("div",{staticClass:"lens-list"},[e("div",{staticClass:"videoList"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player ",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&1!=i.playing||1==i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})])]),i._v(" "),i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])})],2)])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con edu-video-slider",attrs:{id:"edu-video-slider"}},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1)])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con edu-image-slider",attrs:{id:"edu-image-slider"}},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll image-container"},[i._m(0),i._v(" "),e("div",{staticClass:"image-list"},i._l(i.eduList,function(t,s){return e("div",{staticClass:"image-item"},[e("div",{staticClass:"image-content"},[e("img",{attrs:{preview:s,"preview-text":t.title,src:t.cover}})]),i._v(" "),e("div",{staticClass:"image-intro"},[e("div",{staticClass:"image-title"},[i._v(i._s(t.title))]),i._v(" "),e("div",{staticClass:"image-time"},[i._v(i._s(t.created_time))])])])}),0)])])])])])]),i._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:i.showArticle,expression:"showArticle"}],staticClass:"article-list"},i._l(i.articleList,function(t,s){return e("div",{staticClass:"article-item",on:{click:function(e){return i.goArticle(t)}}},[e("div",{staticClass:"title"},[e("p",[e("span",{staticClass:"spot"},[i._v("·")]),i._v(i._s(t.title))])]),i._v(" "),e("div",{staticClass:"cover"},[e("img",{attrs:{src:t.pic_path}})])])}),0)])]),i._v(" "),e("div",{staticClass:"footer"},i._l(i.footer,function(t,s){return e("div",{key:s,staticClass:"item"},[e("div",{class:t.fclass},[e("div",{class:i.findex==t.fname?"active":"",on:{click:function(e){return i.changeIndex(t.fname)}}},[e("div",{staticClass:"item-icon"}),i._v(" "),e("div",{staticClass:"item-text"},[i._v(i._s(t.ftext))])])])])}),0),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"}})],1)},Js=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"edu-intro-header"},[e("div",{staticClass:"title"},[i._v("图片留存瞬间的美好")]),i._v(" "),e("div",{staticClass:"mark"},[i._v("长按图片，可下载保存")])])}],qs={render:Hs,staticRenderFns:Js},Ns=qs,Ws=s("C7Lr"),Ys=M,Gs=Ws(Ds,Ns,!1,Ys,"data-v-4d06627c",null),Ks=Gs.exports,zs=s("adVT"),Zs=(Boolean,Boolean,Boolean,String,String,Boolean,String,Object,Array,{name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(i){return 2===i.length}}},methods:{onClick:function(){!this.disabled&&Object(zs.a)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}),Xs=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("button",{staticClass:"weui-btn",class:i.classes,style:i.buttonStyle,attrs:{disabled:i.disabled,type:i.actionType},on:{click:i.onClick}},[i.showLoading?e("i",{staticClass:"weui-loading"}):i._e(),i._v(" "),i._t("default",[i._v(i._s(i.text))])],2)},Qs=[],ia={render:Xs,staticRenderFns:Qs},ta=ia,ea=s("C7Lr"),sa=P,aa=ea(Zs,ta,!1,sa,null,null),oa=aa.exports,na={name:"room_template",components:{roomMini:Ps,tea:ce,educate:fe,roomOld:ke,roomNew:Ne,roomCommon:is,roomNoHome:cs,roomCommonNoHome:fs,XButton:oa,snapshot:Us,educateNews:Ks},data:function(){return{room_template:0,room_id:0,check_secret:0,secret_key:"",showPage:!1}},mounted:function(){document.getElementById("secret-input")&&document.getElementById("secret-input").addEventListener("blur",function(){window.scrollTo(0,0)},!1)},created:function(){this.room_id=this.$route.query.room_id,this.getRoomTemplate()},methods:{getRoomTemplate:function(){var i=this;i.$vux.loading.show({text:"加载中~"}),i.showPage=!0;var t=new URLSearchParams;t.append("id",this.room_id),i.axiosPost("/room/template",t).then(function(t){i.$vux.loading.hide(),i.room_template=t.data.template,i.check_secret=t.data.secret,"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)&&Cs.a.miniProgram.getEnv(function(t){t.miniprogram&&27!=i.room_id&&26!=i.room_id&&21!=i.room_id&&(i.room_template=9999)})})},checkSecretKey:function(){var i=this;if(!this.secret_key)return this.$vux.alert.show({title:"温馨提示",content:"请填写密钥"}),!1;i.$vux.loading.show({text:"加载中~"});var t=new URLSearchParams;t.append("id",this.room_id),t.append("secretKey",this.secret_key),i.axiosPost("/room/check-secret",t).then(function(t){i.$vux.loading.hide(),200==t.status?t.data.check?(i.check_secret=!1,window.scrollTo(0,0)):i.$vux.alert.show({title:"温馨提示",content:"请输入正确密钥"}):i.$vux.alert.show({title:"温馨提示",content:t.message})})}}},ra=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",[i.check_secret?e("div",{staticClass:"secret-input"},[e("div",{staticClass:"secret-input-box"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:i.secret_key,expression:"secret_key"}],staticClass:"secret-key",attrs:{type:"text",id:"secret-input",placeholder:"请输入密码或手机号"},domProps:{value:i.secret_key},on:{input:function(t){t.target.composing||(i.secret_key=t.target.value)}}})]),i._v(" "),e("div",{staticClass:"secret-input-btn"},[e("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return i.checkSecretKey(t)}}},[i._v("提交")])],1)])]):e("div",[8==i.room_template?e("educate"):1==i.room_template?e("room-old"):2==i.room_template?e("roomNew"):4==i.room_template?e("room-common"):5==i.room_template?e("room-no-home"):6==i.room_template?e("room-common-no-home"):9==i.room_template?e("snapshot"):10==i.room_template?e("educate-news"):9999==i.room_template&&i.showPage?e("room-mini"):i._e()],1)])},la=[],ca={render:ra,staticRenderFns:la},da=ca,ua=s("C7Lr"),va=L,ma=ua(na,da,!1,va,"data-v-55e9f747",null),pa=ma.exports,ha={name:"room",components:{"room-video":Te,Product:Bi,Comments:Ai},data:function(){return{contabObj:{},contentSwiper:{},currentVideo:{},playing:!1,playinit:!1,VideoCoverImg:"",showCover:!1,galleryTop:{},play_status:1,room_id:0,room_info:{},showComment:!0,comment:"",total_price:0,lens:{},player:{},deliver:0,aliplayer_config:{id:"J_prismPlayer",autoplay:!1,playsinline:!0,showBuffer:!0,isLive:!0,useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"h5",source:"",cover:"",rePlay:!1,preload:!1,skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]},roomBasic:{room_name:"",start_num:"",title:"",sub_title:"",intro:"",click_num:"",introduce:"",content:"",cover_img:"",coordinate:"",addr_url:"",addr:"",logo_img:"",online_url:"",online_cover:"",mobile:""},firstMusic:!1,musicFlag:!1,lensMusicObj:"",liveMusicObj:"",showMusic:!0,isAndroid:!1,date:new Date}},provide:function(){return{reload:this.reload}},created:function(){var i=navigator.userAgent;this.isAndroid=i.indexOf("Android")>-1||i.indexOf("Adr")>-1,this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:9,this.getData(),this.getLens(),localStorage.setItem("roomid",this.room_id)},mounted:function(){var i=this;$(".prism-big-play-btn").click(function(){$(".videoCover").fadeOut()}),setTimeout(i.initSwiper,1e3);var t=$(".prism-player").width();$(".prism-player").height(t/16*9),$("#J_prismPlayer").click(function(){i.playinit=!1,i.checkVideoPlayer(i.currentVideo),i.musicFlag=!0,i.playBgMusic(),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}),$(".company .remarks p").click(function(){$(this).hasClass("hide")?$(this).removeClass("hide"):$(this).addClass("hide")}),i.isAndroid||(i.playinit=!0),this.timer=setInterval(function(){i.getCurrentTime()},1e3),window.addEventListener("blur",function(){i.musicFlag=!1,i.liveMusicObj.pause(),i.lensMusicObj.pause()}),window.addEventListener("focus",function(){i.musicFlag=!0,i.liveMusicObj.play()}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(i.musicFlag=!1,i.liveMusicObj.pause(),i.lensMusicObj.pause())})},watch:{$route:function(){}},methods:{showMoreInfo:function(i){$(i).hasClass("hide")?$(i).removeClass("hide"):$(i).addClass("hide")},initSwiper:function(){},switchVideo:function(i,t){this.playinit=!1,clearTimeout(this.contabObj),$(".videoCover").fadeOut(),this.player.dispose(),this.VideoCoverImg="",$("#J_prismPlayer").empty(),this.play_status=1;var e=this;-1!=i.vurl.indexOf(".m3u8")?(e.aliplayer_config.isLive=!0,e.aliplayer_config.autoplay=!1,e.aliplayer_config.rePlay=!1,e.play_status=1):(e.aliplayer_config.isLive=!1,e.aliplayer_config.autoplay=!0,e.aliplayer_config.rePlay=!0,e.play_status=2),e.VideoCoverImg=i.cover_img,e.aliplayer_config.cover=i.pic,e.aliplayer_config.source=i.vurl,2==t&&(e.play_status=2,e.aliplayer_config.autoplay=!1,e.aliplayer_config.cover=i.reback_img,e.aliplayer_config.source=i.vurl_reback),e.currentVideo=i,e.aliplayer_config.id="J_prismPlayer",e.player=new Aliplayer(e.aliplayer_config),e.player.on("x5requestFullScreen",this.fullScreenHandle),e.player.on("x5cancelFullScreen",this.cancelFullScreenHandel),e.currentVideo=i,e.initMusic(),2==e.play_status&&e.playBgMusic()},switchContent:function(i){$(".swiper-slide").each(function(t){t==i?$(this).addClass("cur"):$(this).removeClass("cur")}),$(".con").each(function(t){t==i?$(this).show():$(this).hide(),1==i?($(".shoppingCarBox").fadeIn(),$(".sendMessMenu").hide()):2==i?($(".sendMessMenu").fadeIn(),$(".shoppingCarBox").hide()):($(".shoppingCarBox").hide(),$(".sendMessMenu").hide())})},getData:function(){var i=this,t=new URLSearchParams;i.axiosPost("/room/info?id="+this.room_id,t).then(function(t){i.roomBasic.room_name=t.data.room_name,i.roomBasic.logo_img=t.data.logo_img,i.roomBasic.click_num=t.data.click_num,i.roomBasic.addr_url=t.data.addr_url,i.roomBasic.addr=t.data.addr,i.roomBasic.coordinate=t.data.coordinate,i.roomBasic.cover_img=t.data.cover_img,i.roomBasic.introduce=t.data.introduce,i.roomBasic.content=t.data.content,i.roomBasic.logo_pic=t.data.logo_img,i.roomBasic.title=t.data.title,i.roomBasic.sub_title=t.data.sub_title,i.roomBasic.intro=t.data.intro,i.roomBasic.start_num=t.data.start_num,i.roomBasic.online_url=t.data.online_url,i.roomBasic.online_cover=t.data.online_cover,i.roomBasic.mobile=t.data.mobile,i.$route.meta.title=t.data.room_name,i.deliver=t.data.deliver,i.roomBasic.cover_img&&(i.showCover=!0),i.WxShare(),i.$nextTick(function(){})},function(i){console.log(i)})},getLens:function(){var i=this,t=this,e=new URLSearchParams;t.axiosPost("/room/lens?id="+this.room_id,e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.lens=e.data,-1!=t.lens[0].vurl.indexOf(".m3u8")?(t.aliplayer_config.isLive=!0,t.aliplayer_config.autoplay=!1,t.aliplayer_config.rePlay=!1,t.play_status=1,t.firstMusic=!0):(t.aliplayer_config.isLive=!1,t.aliplayer_config.autoplay=!0,t.aliplayer_config.rePlay=!0,t.play_status=2),t.VideoCoverImg=t.lens[0].cover_img,t.aliplayer_config.source=t.lens[0].vurl,t.aliplayer_config.cover=t.lens[0].pic,t.aliplayer_config.id="J_prismPlayer",t.player=new Aliplayer(t.aliplayer_config),t.player.on("x5requestFullScreen",i.fullScreenHandle),t.player.on("x5cancelFullScreen",i.cancelFullScreenHandel),t.currentVideo=t.lens[0],t.initMusic(),2==t.play_status&&t.playBgMusic()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},countPrice:function(i){this.total_price=i},tobuy:function(){var i=this;if(i.deliver>0&&i.total_price<i.deliver)return this.$vux.alert.show({title:"温馨提示",content:"满"+i.deliver+"元起送，基地包邮到家"}),!1;this.$refs.product.buy_product(i.roomBasic.id,i.roomBasic.room_name,i.roomBasic.logo_pic,i.roomBasic.mobile)},subComment:function(){this.$refs.comment.setComment(this.comment)},clearParent:function(){this.comment=""},reload:function(){this.showComment=!1,this.$nextTick(function(){this.showComment=!0})},checkVideoPlayer:function(i){var t=this;t.contabObj=setTimeout(function(){var e=t.player.getCurrentTime();t.aliplayer_config.isLive&&e<=0&&t.switchVideo(i,2)},3e3)},imgCover:function(){this.playing=!0,$(".videoCover").css("z-index","-1 !important")},hideCoverImg:function(){this.roomBasic.cover_img&&this.showCover&&(this.showCover=!1)},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){2==e.play_status&&(e.musicFlag=!0,e.playBgMusic());var i=location.protocol+"//"+document.domain+"/front/#/room?room_id="+e.room_id;e.$wechat.onMenuShareAppMessage({title:e.roomBasic.title+" "+e.roomBasic.sub_title,desc:e.roomBasic.introduce,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.roomBasic.title+" "+e.roomBasic.sub_title,link:i,imgUrl:e.roomBasic.logo_img,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})},initMusic:function(){this.musicFlag=!this.firstMusic,this.firstMusic=!1,this.lensMusicObj=document.getElementById("lens-music"),this.liveMusicObj=document.getElementById("live-music"),this.lensMusicObj.currentTime=0,this.liveMusicObj.currentTime=0},playBgMusic:function(){var i=this;i.musicFlag=!0,setTimeout(function(){i.liveMusicObj.play()},500)},playMusic:function(){this.musicFlag?(this.musicFlag=!1,this.liveMusicObj.pause(),this.lensMusicObj.play()):(this.lensMusicObj.pause(),this.liveMusicObj.play(),this.musicFlag=!0)},getCurrentTime:function(){var i=new Date,t=i.getFullYear(),e=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate(),a=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),n=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.date=t+"-"+e+"-"+s+" "+a+":"+o+":"+n},goHome:function(){this.$router.replace({path:"/"})},fullScreenHandle:function(){this.musicFlag=!0,this.liveMusicObj.play(),this.player.tag.style.height=window.height},cancelFullScreenHandel:function(){console.log("stopMUisc")}}},_a=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:i.$route.meta.title,expression:"$route.meta.title"}],staticClass:"room-info"},[e("div",{staticClass:"room-deader"},[e("div",{staticClass:"video",on:{click:i.imgCover}},[e("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"}}),i._v(" "),e("div",{class:1==i.play_status&&!1===i.playing||!0===i.playinit?"videoCover online_video":"videoCover outline_video"},[e("img",{attrs:{src:i.VideoCoverImg}})]),i._v(" "),i._m(0),i._v(" "),i.currentVideo.live_music?e("div",{staticClass:"live-music"},[e("div",{class:i.musicFlag?"live-music-icon active":"live-music-icon",on:{click:i.playMusic}})]):i._e(),i._v(" "),e("div",{staticClass:"live-home-icon",on:{click:i.goHome}}),i._v(" "),e("div",{staticClass:"live-view-icon"},[i._v("热度 "+i._s(i.roomBasic.click_num)+" 人")])]),i._v(" "),e("div",{staticClass:"live-music-detail"},[e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.lens_music,loop:"loop",id:"lens-music"}}),i._v(" "),e("audio",{staticStyle:{display:"none"},attrs:{src:i.currentVideo.live_music,loop:"loop",id:"live-music"}})])]),i._v(" "),e("div",{staticClass:"live-room-main"},[e("div",{staticClass:"swiper-container gallery-thumbs"},[e("div",{staticClass:"swiper-wrapper tabMenu"},[e("div",{staticClass:"swiper-slide cur",on:{click:function(t){return i.switchContent(0)}}},[i._v("实时视频")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(1)}}},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(2)}}},[i._v("互动评论")]),i._v(" "),e("div",{staticClass:"swiper-slide",on:{click:function(t){return i.switchContent(3)}}},[i._v("精彩短片")])])]),i._v(" "),e("div",{staticClass:"live-room-content"},[e("div",{staticClass:"swiper-container gallery-top"},[e("div",{staticClass:"swiper-wrapper tabCon"},[e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("溯源镜头")]),i._v(" "),e("div",{staticClass:"videoList swiper-no-swiping"},i._l(i.lens,function(t){return e("dl",{staticClass:"live-1",on:{click:function(e){return i.switchVideo(t,1)}}},[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[i._v(i._s(t.name))])])}),0),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态介绍")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"room_content",domProps:{innerHTML:i._s(i.roomBasic.content)}},[i._v("\n                    "+i._s(i.roomBasic.content)+"\n                  ")])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con",attrs:{id:"live"}},[e("div",{staticClass:"swiper-container scroll "},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"my-order"},[e("router-link",{attrs:{to:{path:"orders"}}},[e("span",[i._v("我的订单>")])])],1),i._v(" "),e("h2",{staticClass:"tit shopCarIcon"},[i._v("生态商城")]),i._v(" "),e("div",{staticClass:"company"},[e("dl",[e("dt",[e("img",{attrs:{src:i.roomBasic.logo_img}})]),i._v(" "),e("dd",[e("h3",[e("strong",[i._v(i._s(i.roomBasic.title))]),i._v(i._s(i.roomBasic.sub_title))]),i._v(" "),e("p",[e("span",[i._v(i._s(i.roomBasic.intro))])])])]),i._v(" "),e("div",{staticClass:"remarks"},[e("span",[i._v("生态简介：")]),i._v(" "),e("p",{staticClass:"hide",nativeOn:{click:function(t){return i.showMoreInfo(this)}}},[i._v("\n                        "+i._s(i.roomBasic.introduce))])])]),i._v(" "),e("div",{staticClass:"shopList"},[e("product",{ref:"product",attrs:{room_id:i.room_id},on:{buy_price:i.countPrice}})],1)])])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit messIcon"},[i._v("互动评论")]),i._v(" "),i.showComment?e("comments",{ref:"comment",attrs:{room_id:i.room_id},on:{clearComment:i.clearParent}}):i._e()],1)])])]),i._v(" "),e("div",{staticClass:"swiper-slide con"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("h2",{staticClass:"tit videoIcon"},[i._v("精彩短片")]),i._v(" "),e("div",{staticClass:"filmList"},[e("room-video",{attrs:{room_id:i.room_id}})],1),i._v(" "),e("div",{staticClass:"footerLogo"})])])])])])])])]),i._v(" "),e("div",{staticClass:"sendMessMenu",staticStyle:{display:"none"}},[e("div",{staticClass:"sendMessBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.comment,expression:"comment"}],attrs:{type:"text",value:"",placeholder:"输入评论内容..."},domProps:{value:i.comment},on:{input:function(t){t.target.composing||(i.comment=t.target.value)}}}),i._v(" "),e("button",{on:{click:i.subComment}})])]),i._v(" "),e("div",{staticClass:"shoppingCarBox",staticStyle:{display:"none"}},[e("dl",[e("dt",[e("h4",[i._v("¥"+i._s(i.total_price))]),i._v(" "),0==i.deliver?e("p",[i._v("基地到家，全场免运费")]):e("p",[i._v("满"+i._s(i.deliver)+"元起送，基地包邮到家")])]),i._v(" "),e("dd",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:i.tobuy}},[i._v("去结算")])])])]),i._v(" "),i.showCover?e("div",{staticClass:"liveHome",on:{click:i.hideCoverImg}},[e("img",{attrs:{src:i.roomBasic.cover_img}})]):i._e(),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.7.1/aliplayer-min.js"}})],1)},ga=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("Z2Ou")}})])}],fa={render:_a,staticRenderFns:ga},ya=fa,Ca=s("C7Lr"),wa=I,ba=Ca(ha,ya,!1,wa,"data-v-0d18756c",null),xa=ba.exports,Ba={name:"RoomTeset",mounted:function(){var t,e,s,a,o,n,l,c,d,u=new Swiper("#nav",{slidesPerView:5,freeMode:!0,on:{init:function(){t=this.slides.eq(0).css("width"),e=this.$el.find(".bar"),e.css("width",t),e.transition(300),s=this.slides[this.slides.length-1].offsetLeft,a=parseInt(this.$wrapperEl.css("width")),o=0;for(var i=0;i<this.slides.length;i++)o+=parseInt(this.slides.eq(i).css("width"))}}}),v=(new Swiper("#page",{watchSlidesProgress:!0,resistanceRatio:0,on:{touchMove:function(){for(n=this.progress,e.transition(0),e.transform("translateX("+s*n+"px)"),i=0;i<this.slides.length;i++)slideProgress=this.slides[i].progress,Math.abs(slideProgress)<1&&(r=Math.floor(204*(1-Math.pow(Math.abs(slideProgress),2))+51),g=Math.floor(21*(1-Math.pow(Math.abs(slideProgress),2))+51),b=Math.floor(94*(1-Math.pow(Math.abs(slideProgress),2))+51),u.slides.eq(i).find("span").css("font-size","1.2rem"))},transitionStart:function(){activeIndex=this.activeIndex,activeSlidePosition=u.slides[activeIndex].offsetLeft,e.transition(300),e.transform("translateX("+activeSlidePosition+"px)"),u.slides.eq(activeIndex).find("span").transition(300),u.slides.eq(activeIndex).find("span").css("font-size","1.2rem"),activeIndex>0&&(u.slides.eq(activeIndex-1).find("span").transition(300),u.slides.eq(activeIndex-1).find("span").css("font-size","1rem")),activeIndex<this.slides.length&&(u.slides.eq(activeIndex+1).find("span").transition(300),u.slides.eq(activeIndex+1).find("span").css("font-size","1rem")),navActiveSlideLeft=u.slides[activeIndex].offsetLeft,u.setTransition(300),navActiveSlideLeft<(a-parseInt(t))/2?u.setTranslate(0):navActiveSlideLeft>o-(parseInt(t)+a)/2?u.setTranslate(a-o):u.setTranslate((a-parseInt(t))/2-navActiveSlideLeft)}}}),new Swiper(".scroll",{slidesOffsetBefore:100,direction:"vertical",freeMode:!0,slidesPerView:"auto",mousewheel:{releaseOnEdges:!0},on:{touchMove:function(){this.translate>50&&this.translate<100&&d.transform("translateY("+(this.translate-100)+"px)")},touchStart:function(){l=this.translate},touchEnd:function(){if(d.transition(300),this.translate>50&&this.translate<100&&this.translate<l)for(d.transform("translateY(-56px)"),c=0;c<v.length;c++)v[c].translate>50&&(v[c].setTransition(300),v[c].setTranslate(50));if(this.translate>50&&this.translate<100&&this.translate>l)for(d.transform("translateY(0px)"),c=0;c<v.length;c++)v[c].translate<100&&v[c].translate>0&&(v[c].setTransition(300),v[c].setTranslate(100))},transitionStart:function(){if(d=this.$el.parents("body").find("#top"),d.transition(300),this.translate<50){if(d.transform("translateY(-56px)"),v)for(c=0;c<v.length;c++)v[c].translate>50&&(v[c].setTransition(300),v[c].setTranslate(50))}else if(d.transform("translateY(0px)"),v)for(c=0;c<v.length;c++)v[c].translate<100&&v[c].translate>0&&(v[c].setTransition(300),v[c].setTranslate(100))}}}));new Swiper(".banner",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets",bulletActiveClass:"live-banner-active"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0}})}},Sa=function(){var i=this,t=i.$createElement;i._self._c;return i._m(0)},$a=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index"},[e("div",{staticClass:"header",attrs:{id:"top"}},[e("div",{staticClass:"search-bar"},[e("div",{staticClass:"user-head"}),i._v(" "),e("div",{staticClass:"live-search-box"},[e("div",{staticClass:"search-box"},[e("i",{staticClass:"live-search-icon"}),i._v(" "),e("input",{staticClass:"search-input",attrs:{placeholder:"刘老头米店"}}),i._v(" "),e("i",{staticClass:"live-search-next"})])]),i._v(" "),e("div",{staticClass:"yclive-home"})]),i._v(" "),e("div",{staticClass:"live-menu-bar"},[e("div",{staticClass:"swiper-container",attrs:{id:"nav"}},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide"},[e("span",{staticClass:"active"},[i._v("推荐")])]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("span",[i._v("全部")])]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("span",[i._v("猪场")])]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("span",[i._v("鹿场")])]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("span",[i._v("茶园")])]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("span",[i._v("菜园")])]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("span",[i._v("药材基地")])]),i._v(" "),e("div",{staticClass:"bar"},[e("div",{staticClass:"color"})])])])]),i._v(" "),e("div",{staticClass:"live-header-bg"})]),i._v(" "),e("div",{staticClass:"live-main swiper-container",attrs:{id:"page"}},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidepage"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"swiper-container banner"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide"},[e("img",{attrs:{src:s("HgEG")}})]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("img",{attrs:{src:s("mFs0")}})]),i._v(" "),e("div",{staticClass:"swiper-slide"},[e("img",{attrs:{src:s("dxYj")}})])]),i._v(" "),e("div",{staticClass:"swiper-pagination"})]),i._v(" "),e("div",{staticClass:"live-activity"},[e("div",{staticClass:"live-activity-head"},[i._v("活动")]),i._v(" "),e("div",{staticClass:"live-activity-box"},[e("div",{staticClass:"live-activity-content"},[e("div",{staticClass:"live-activity-title"},[i._v("\n                      雪地狂奔跑的藏香猪直播\n                    ")]),i._v(" "),e("div",[e("span",{staticClass:"live-activity-date"},[i._v("1月08日")]),i._v(" "),e("span",{staticClass:"live-activity-time"},[i._v("19:00")]),i._v(" "),e("span",{staticClass:"live-color"},[i._v("开始热播")])])])]),i._v(" "),e("div",{staticClass:"live-activity-btn"},[i._v("围观")])]),i._v(" "),e("div",{staticClass:"live-lists-head"},[i._v("\n                热点推荐\n              ")]),i._v(" "),e("div",{staticClass:"live-lists-content"},[e("ul",{staticClass:"live-items"},[e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])]),i._v(" "),e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])]),i._v(" "),e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])]),i._v(" "),e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])])])])])])])]),i._v(" "),e("div",{staticClass:"swiper-slide slidepage"},[e("div",{staticClass:"swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"live-lists-content"},[e("ul",{staticClass:"live-items live-items-all"},[e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])]),i._v(" "),e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])]),i._v(" "),e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])]),i._v(" "),e("li",{staticClass:"live-item"},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:s("LO9X")}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                          好汉鹿场基地\n                        ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                          生态放养优质鹿场\n                        ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v("123456")])])])])])])])])])]),i._v(" "),e("div",{staticClass:"live-banner",attrs:{id:"live-banner"}})]),i._v(" "),e("div",{staticClass:"footer"},[e("div",{staticClass:"item"},[e("div",{staticClass:"live-foot-live"},[e("div",{staticClass:"active"},[e("div",{staticClass:"item-icon"}),i._v(" "),e("div",{staticClass:"item-text"},[i._v("视频现场")])])])]),i._v(" "),e("div",{staticClass:"item"},[e("div",{staticClass:"live-foot-video"},[e("div",[e("div",{staticClass:"item-icon"}),i._v(" "),e("div",{staticClass:"item-text"},[i._v("精彩短片")])])])]),i._v(" "),e("div",{staticClass:"item"},[e("div",{staticClass:"live-foot-user"},[e("div",[e("div",{staticClass:"item-icon"}),i._v(" "),e("div",{staticClass:"item-text"},[i._v("个人中心")])])])])])])}],ka={render:Sa,staticRenderFns:$a},Ma=ka,Pa=s("C7Lr"),La=O,Ia=Pa(Ba,Ma,!1,La,"data-v-12616475",null),Oa=(Ia.exports,{name:"LiveHead",data:function(){return{searchStr:"",headImg:""}},props:["room_name"],created:function(){this.room_name&&(this.searchStr=this.room_name);var i=localStorage.getItem("uimg");i&&void 0!==i&&(this.headImg=i)},methods:{searchRoom:function(){this.searchStr?(this.$router.replace({path:"/",query:{room_name:this.searchStr}}),this.$emit("searchRoom")):this.$vux.alert.show({title:"温馨提示",content:"请填写直播间名称"})},goHome:function(){this.$router.replace({path:"/"})},checkContent:function(){console.log(this.searchStr)}}}),Va=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-head-container"},[e("div",{staticClass:"search-bar"},[i.headImg?e("div",{staticClass:"user-head",style:{backgroundImage:"url("+i.headImg+")"}}):e("div",{staticClass:"user-head"}),i._v(" "),e("div",{staticClass:"live-search-box"},[e("div",{staticClass:"search-box"},[e("i",{staticClass:"live-search-icon"}),i._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:i.searchStr,expression:"searchStr",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{placeholder:"刘老头米店"},domProps:{value:i.searchStr},on:{input:function(t){t.target.composing||(i.searchStr=t.target.value.trim())},blur:function(t){return i.$forceUpdate()}}}),i._v(" "),e("i",{staticClass:"live-search-next",on:{click:i.searchRoom}})])]),i._v(" "),e("div",{staticClass:"yclive-home",on:{click:i.goHome}})])])},Aa=[],Fa={render:Va,staticRenderFns:Aa},Ta=Fa,ja=s("C7Lr"),Ra=V,Ea=ja(Oa,Ta,!1,Ra,"data-v-7efcaa11",null),Ua=Ea.exports,Da=(Boolean,String,{name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}),Ha=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"vux-loadmore weui-loadmore",class:{"weui-loadmore_line":!i.showLoading,"weui-loadmore_dot":!i.showLoading&&!i.tip}},[i.showLoading?e("i",{staticClass:"weui-loading"}):i._e(),i._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:i.tip||!i.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips"},[i._v(i._s(i.tip))])])},Ja=[],qa={render:Ha,staticRenderFns:Ja},Na=qa,Wa=s("C7Lr"),Ya=A,Ga=Wa(Da,Na,!1,Ya,null,null),Ka=Ga.exports,za={name:"IndexNew",components:{LiveHead:Ua,LiveFooter:pt,LoadMore:Ka},data:function(){return{pageSize:1,findex:"live",activity:{},bannerList:[],menuList:[],roomList:[],bannerSwiper:{},pageSwiper:{},navSwiper:{},loadding:!1,roomEnd:!1,roomType:2,categoryId:1,roomName:"",containerId:"live-main-container1",currentSwiperId:0}},watch:{$route:function(){}},created:function(){this.getHeader(),this.getBanner(),this.getActivity(),this.$route.query.room_name&&(this.roomType=1,this.roomName=this.$route.query.room_name),this.getRoomList()},mounted:function(){var i=this;setTimeout(i.initSwiperBanner(),500),window.addEventListener("scroll",this.handleScroll,!0),setTimeout(function(){i.$route.query.room_name&&i.pageSwiper.slideTo(1,300)},1500)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll,!1)},methods:{initSwiperMenu:function(){var i,t,e,s,a,o,n,r,l,c,d,u,v=this;v.navSwiper=new Swiper("#nav",{slidesPerView:5,freeMode:!0,observer:!0,observeParents:!0,on:{init:function(){l=this.slides.eq(0).css("width"),c=this.$el.find(".bar"),c.css("width",l),c.transition(300),i=this.slides.length>0?this.slides[this.slides.length-1].offsetLeft:0,n=parseInt(this.$wrapperEl.css("width")),r=0;for(var t=0;t<this.slides.length;t++)r+=parseInt(this.slides.eq(t).css("width"))}}}),v.navSwiper.$el.on("touchstart",function(i){i.preventDefault()}),v.navSwiper.on("tap",function(i){d=this.clickedIndex,u=this.slides.eq(d),v.pageSwiper.slideTo(d,0),this.slides.find("span").css("font-size","1rem"),u.find("span").css("font-size","1.2rem"),v.categoryId=u.find("span").attr("category"),v.changeRoomList(d),v.currentSwiperId=this.clickedIndex}),v.pageSwiper=new Swiper("#page",{watchSlidesProgress:!0,resistanceRatio:0,noSwiping:!0,observer:!0,observeParents:!0,on:{touchMove:function(){t=this.progress,c.transition(0),c.transform("translateX("+i*t+"px)");for(var s=0;s<this.slides.length;s++)e=this.slides[s].progress,Math.abs(e)<1&&v.navSwiper.slides.eq(s).find("span").css("font-size","1.2rem")},transitionStart:function(){s=this.activeIndex,a=v.navSwiper.slides[s].offsetLeft,c.transition(300),c.transform("translateX("+a+"px)"),v.navSwiper.slides.eq(s).find("span").transition(300),v.navSwiper.slides.eq(s).find("span").css("font-size","1.2rem"),s>0&&(v.navSwiper.slides.eq(s-1).find("span").transition(300),v.navSwiper.slides.eq(s-1).find("span").css("font-size","1rem")),s<this.slides.length&&(v.navSwiper.slides.eq(s+1).find("span").transition(300),v.navSwiper.slides.eq(s+1).find("span").css("font-size","1rem")),o=v.navSwiper.slides[s].offsetLeft,v.navSwiper.setTransition(300),l=v.navSwiper.slides.eq(0).css("width"),r=0;for(var i=0;i<v.navSwiper.slides.length;i++)r+=parseInt(v.navSwiper.slides.eq(i).css("width"));o<(n-parseInt(l))/2?v.navSwiper.setTranslate(0):o>r-(parseInt(l)+n)/2?v.navSwiper.setTranslate(n-r):v.navSwiper.setTranslate((n-parseInt(l))/2-o),v.categoryId=v.navSwiper.slides.eq(s).find("span").attr("category"),v.changeRoomList(s)}}})},initSwiperBanner:function(){this.bannerSwiper=new Swiper(".banner",{loop:!0,observer:!0,observeParents:!0,pagination:{el:".swiper-pagination",type:"bullets",bulletActiveClass:"live-banner-active"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0}})},getHeader:function(){var i=this,t=new URLSearchParams;i.axiosPost("/live/category",t).then(function(t){200==t.status?(i.menuList=t.data,setTimeout(i.initSwiperMenu(),1500)):i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},getRoomList:function(){var i=this;if(i.loadding)return!1;i.$vux.loading.show({text:"加载中~"}),i.loadding=!0;var t=new URLSearchParams;t.append("room_type",i.roomType),t.append("room_name",i.roomName),t.append("page",i.pageSize),t.append("category",i.categoryId),i.axiosPost("/live/room",t).then(function(t){i.loadding=!1,i.$vux.loading.hide(),200==t.status?t.data.length>0?(t.data.forEach(function(t,e){i.roomList.push(t)}),i.pageSize++):i.roomEnd=!0:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},changeRoomList:function(i){this.pageSize=1,this.roomList=[],this.roomEnd=!1,this.roomType=0==i?2:1,this.getRoomList()},getActivity:function(){var i=this,t=new URLSearchParams;i.axiosPost("/live/activity",t).then(function(t){200==t.status?i.activity=t.data:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},getBanner:function(){var i=this,t=new URLSearchParams;i.axiosPost("/live/banner",t).then(function(t){200==t.status?i.bannerList=t.data:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},goActivity:function(i){i.activity_url&&this.goUrl(i.activity_url)},goBanner:function(i){i.links&&this.goUrl(i.links)},goUrl:function(i){window.location.href=i},goRoom:function(i){1==this.DEBUG?this.$router.replace({path:"/room",query:{room_id:i.room_id,from:"groupmessage",isappinstalled:0}}):window.location.replace(location.protocol+"//"+document.domain+"/front/#/room?room_id="+i.room_id)},handleScroll:function(){var i=this;if(document.getElementById("live-main-container"+i.categoryId)){var t=document.getElementById("live-main-container"+i.categoryId).clientHeight,e=document.getElementById("live-main-container"+i.categoryId);t+e.scrollTop+1>=e.scrollHeight&&!i.loadding&&!i.roomEnd&&this.getRoomList()}},searchRoom:function(){this.$route.query.room_name&&(this.roomList=[],this.pageSize=1,this.roomType=1,this.roomName=this.$route.query.room_name,this.pageSwiper.slideTo(1,300),this.getRoomList())}}},Za=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index-container live-h100"},[e("div",{staticClass:"header",attrs:{id:"top"}},[e("live-head",{attrs:{room_name:i.roomName},on:{searchRoom:i.searchRoom}}),i._v(" "),e("div",{staticClass:"live-menu-bar"},[e("div",{staticClass:"swiper-container",attrs:{id:"nav"}},[e("div",{staticClass:"swiper-wrapper"},i._l(i.menuList,function(t,s){return e("div",{key:s,staticClass:"swiper-slide"},[e("span",{class:0==s?"active":0,attrs:{category:t.id}},[i._v(i._s(t.title))])])}),0)])]),i._v(" "),e("div",{staticClass:"live-header-bg"})],1),i._v(" "),e("div",{staticClass:"live-main swiper-container",attrs:{id:"page"}},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidepage swiper-no-swiping"},[e("div",{staticClass:"live-main-container",attrs:{id:"live-main-container1"}},[e("div",{staticClass:"swiper-container banner"},[e("div",{staticClass:"swiper-wrapper"},i._l(i.bannerList,function(t,s){return e("div",{key:s,staticClass:"swiper-slide"},[e("img",{attrs:{src:t.cover},on:{click:[function(e){return i.goBanner(t)},function(i){i.stopPropagation()}]}})])}),0),i._v(" "),e("div",{staticClass:"swiper-pagination"})]),i._v(" "),i.activity.hasOwnProperty("title")&&i.activity.title?e("div",{staticClass:"live-activity"},[e("div",{staticClass:"live-activity-head"},[i._v("活动")]),i._v(" "),e("div",{staticClass:"live-activity-box"},[e("div",{staticClass:"live-activity-content"},[e("div",{staticClass:"live-activity-title"},[i._v("\n                  "+i._s(i.activity.title)+"\n                ")]),i._v(" "),e("div",[e("span",{staticClass:"live-activity-date"},[i._v(i._s(i.activity.activity_time))]),i._v(" "),e("span",{staticClass:"live-color"},[i._v("开始热播")])])])]),i._v(" "),e("div",{staticClass:"live-activity-btn",on:{click:function(t){return i.goActivity(i.activity)}}},[i._v("围观")])]):i._e(),i._v(" "),e("div",{staticClass:"live-lists-head"},[i._v("\n            热点推荐\n          ")]),i._v(" "),e("div",{staticClass:"live-lists-content"},[e("ul",{staticClass:"live-items"},i._l(i.roomList,function(t,s){return e("li",{key:s,staticClass:"live-item",on:{click:function(e){return i.goRoom(t)}}},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:t.online_cover}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                      "+i._s(t.title)+"\n                    ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                      "+i._s(t.intro)+"\n                    ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v(i._s(t.click_num))])])])}),0)])])]),i._v(" "),i._l(i.menuList,function(t,s){return s>0?e("div",{key:s,staticClass:"swiper-slide slidepage swiper-no-swiping"},[e("div",{staticClass:"live-lists-content live-main-container",attrs:{id:"live-main-container"+t.id}},[e("ul",{staticClass:"live-items live-items-all"},i._l(i.roomList,function(t,s){return e("li",{key:s,staticClass:"live-item",on:{click:function(e){return i.goRoom(t)}}},[e("div",{staticClass:"live-item-show"},[e("img",{attrs:{src:t.online_cover}})]),i._v(" "),e("div",{staticClass:"live-item-des"},[e("div",{staticClass:"live-item-info"},[e("div",{staticClass:"live-item-title"},[i._v("\n                      "+i._s(t.title)+"\n                    ")]),i._v(" "),e("div",{staticClass:"live-item-intro"},[i._v("\n                      "+i._s(t.intro)+"\n                    ")])]),i._v(" "),e("span",{staticClass:"live-item-view"},[i._v(i._s(t.click_num))])])])}),0)])]):i._e()})],2)]),i._v(" "),e("live-footer",{attrs:{findex:i.findex}})],1)},Xa=[],Qa={render:Za,staticRenderFns:Xa},io=Qa,to=s("C7Lr"),eo=F,so=to(za,io,!1,eo,"data-v-7f240a28",null),ao=so.exports,oo={name:"LiveVideo",components:{LiveHead:Ua,LiveFooter:pt},data:function(){return{pageSize:1,findex:"video",videoList:[],loadding:!1,videoEnd:!1,player:{},video_height:0,aliplayer_config:{id:"",width:"100%",height:"195px",autoplay:!0,playsinline:!0,showBuffer:!0,isLive:!1,x5_type:!0,source:"",cover:"",skinLayout:[{name:"bigPlayButton",align:"cc",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"liveDisplay",align:"tlabs",x:15,y:6},{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"volume",align:"tr",x:5,y:10}]}]}}},mounted:function(){window.addEventListener("scroll",this.handleVideoScroll,!0)},destroyed:function(){window.removeEventListener("scroll",this.handleVideoScroll,!0)},created:function(){var i=document.body.clientWidth-15,t=9*i/16;this.video_height=t+"px",this.aliplayer_config.height=this.video_height,this.getVideo()},methods:{getVideo:function(){var i=this;if(i.loadding)return!1;i.$vux.loading.show({text:"加载中~"}),i.loadding=!0;var t=new URLSearchParams;t.append("page",i.pageSize),i.axiosPost("/live/video",t).then(function(t){i.loadding=!1,i.$vux.loading.hide(),200==t.status?t.data.length>0?(t.data.forEach(function(t,e){t.status=1,t.vno="J_prismPlayer"+t.id,i.videoList.push(t)}),i.pageSize++):i.videoEnd=!0:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},handleVideoScroll:function(){var i=this;if(document.getElementById("live-video-container")){var t=document.getElementById("live-video-container").clientHeight,e=document.getElementById("live-video-container");t+e.scrollTop+1>=e.scrollHeight&&!i.loadding&&!i.roomEnd&&this.getVideo()}},goHome:function(){this.$router.replace({path:"/"})},playervideo:function(i,t,e){e.status=0,this.player.length>0&&this.player.dispose();var s=this;s.aliplayer_config.source=t,s.aliplayer_config.id=i,this.player=new Aliplayer(s.aliplayer_config),this.clickNum(e)},clickNum:function(i){var t=this;if(i.click++,t.subStatus)return!1;var e=new URLSearchParams;e.append("cid",i.id),e.append("ctype","video"),t.subStatus=!0,t.axiosPost("/room/click-num",e).then(function(i){t.subStatus=!1,200==i.status||t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){t.subStatus=!1})}}},no=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index-container live-h100"},[e("div",{staticClass:"header",attrs:{id:"top"}},[e("live-head"),i._v(" "),i._m(0),i._v(" "),e("div",{staticClass:"live-header-bg"})],1),i._v(" "),e("div",{staticClass:"live-main swiper-container"},[e("div",{staticClass:"live-video-list live-main-container",attrs:{id:"live-video-container"}},[i._m(1),i._v(" "),i._m(2),i._v(" "),e("div",{staticClass:"live-video-items"},i._l(i.videoList,function(t,s){return e("div",{key:s,staticClass:"live-video-item"},[e("div",{staticClass:"live-video-cover"},[e("div",{staticClass:"video_item"},[e("div",{staticClass:"prism-player-video",style:{display:1==t.status?"none":"block"},attrs:{id:t.vno},on:{click:function(e){return i.clickNum(t)}}})]),i._v(" "),1==t.status?e("img",{attrs:{src:t.cover_img},on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e(),i._v(" "),1==t.status?e("div",{staticClass:"play-btn",on:{click:function(e){return i.playervideo(t.vno,t.vurl,t)}}}):i._e()]),i._v(" "),e("div",{staticClass:"live-room-info"},[e("span",{staticClass:"live-video-user"},[e("img",{attrs:{src:t.logo_img}})]),i._v(" "),e("div",{staticClass:"live-video-names"},[e("div",{staticClass:"live-video-name-info"},[e("span",{staticClass:"live-video-name"},[i._v(i._s(t.title))])])]),i._v(" "),e("span",{staticClass:"live-video-start"},[i._v(i._s(t.click_num))]),i._v(" "),e("span",{staticClass:"live-video-len"},[i._v(i._s(t.video_length))])])])}),0)])]),i._v(" "),e("live-footer",{attrs:{findex:i.findex}}),i._v(" "),e("remote-script",{attrs:{src:"https://g.alicdn.com/de/prismplayer/2.7.1/aliplayer-min.js"}})],1)},ro=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-menu-bar",attrs:{id:"nav"}},[e("span",{staticClass:"active"},[i._v("精彩短片")])])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-video-head"},[e("div",{staticClass:"live-video-menu"},[e("span",{staticClass:"active"},[i._v("短片")]),i._v(" "),e("span",[i._v("精彩截图")])])])},function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-video-times"},[e("span",[i._v("实时更新")])])}],lo={render:no,staticRenderFns:ro},co=lo,uo=s("C7Lr"),vo=T,mo=uo(oo,co,!1,vo,"data-v-08833c5a",null),po=mo.exports,ho={name:"LiveUserHead",data:function(){return{userInfo:{},headImg:"../../static/images/defaultUser.png",userName:"云窗在线"}},created:function(){var i=localStorage.getItem("uimg");i&&void 0!==i&&(this.headImg=i);var t=localStorage.getItem("uname");t&&void 0!==t&&(this.userName=t),this.getData()},methods:{getData:function(){}}},_o=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-my-head"},[i.headImg?e("div",{staticClass:"live-my-img",style:{backgroundImage:"url("+i.headImg+")"}}):e("div",{staticClass:"live-my-img"}),i._v(" "),e("div",{staticClass:"live-my-info"},[e("p",{staticClass:"user-name"},[i._v(i._s(i.userName))]),i._v(" "),i._m(0)]),i._v(" "),e("div",{staticClass:"live-my-head-bg"})])},go=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("p",[e("span",[i._v("云窗会员")]),i._v(" "),e("span",{staticClass:"live-level"},[i._v("LV1")])])}],fo={render:_o,staticRenderFns:go},yo=fo,Co=s("C7Lr"),wo=j,bo=Co(ho,yo,!1,wo,"data-v-7256e1f3",null),xo=bo.exports,Bo={name:"LiveUser",components:{LiveUserHead:xo,LiveFooter:pt},data:function(){return{findex:"user",uitem:0}},created:function(){},methods:{goDetail:function(i){switch(this.uitem=i,i){case 1:this.$router.replace({path:"/orders"});break;case 2:this.$router.replace({path:"/addr"});break;case 3:this.$router.replace({path:"/roomStart"})}}}},So=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index-container live-h100"},[e("live-user-head"),i._v(" "),e("div",{staticClass:"live-my-main"},[e("div",{staticClass:"live-main-container"},[e("div",{staticClass:"live-user-item"},[e("ul",[e("li",{class:1==i.uitem?"active":"",on:{click:function(t){return i.goDetail(1)}}},[e("i",{staticClass:"live-my-icon live-icon-myorder"}),i._v("\n            我的订单\n          ")]),i._v(" "),e("li",{class:2==i.uitem?"active":"",on:{click:function(t){return i.goDetail(2)}}},[e("i",{staticClass:"live-my-icon live-icon-myaddr"}),i._v("\n            我的地址\n          ")]),i._v(" "),e("li",{class:3==i.uitem?"active":"",on:{click:function(t){return i.goDetail(3)}}},[e("i",{staticClass:"live-my-icon live-icon-mystart"}),i._v("\n            我的关注\n          ")]),i._v(" "),e("li",{class:4==i.uitem?"active":"",on:{click:function(t){return i.goDetail(4)}}},[e("i",{staticClass:"live-my-icon live-icon-apply"}),i._v("\n            开通可视溯源\n          ")])])]),i._v(" "),e("div",{staticClass:"live-user-item live-sys-item"},[e("ul",[e("li",{class:5==i.uitem?"active":"",on:{click:function(t){return i.goDetail(5)}}},[e("i",{staticClass:"live-my-icon live-icon-cooperate"}),i._v("\n            我要合作\n          ")]),i._v(" "),e("li",{class:6==i.uitem?"active":"",on:{click:function(t){return i.goDetail(6)}}},[e("i",{staticClass:"live-my-icon live-icon-service"}),i._v("\n            客服中心\n          ")])])])])]),i._v(" "),e("live-footer",{attrs:{findex:i.findex}})],1)},$o=[],ko={render:So,staticRenderFns:$o},Mo=ko,Po=s("C7Lr"),Lo=R,Io=Po(Bo,Mo,!1,Lo,"data-v-6a43dee6",null),Oo=Io.exports,Vo={name:"LiveOrder",components:{LiveUserHead:xo,LiveFooter:pt},data:function(){return{findex:"user",orderList:[]}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var i=this,t=new URLSearchParams;i.axiosPost("/client/orders",t).then(function(t){i.orderList=t.data},function(i){console.log(i)})},orderDetails:function(i){this.$router.replace({path:"/orderDetail",query:{order_id:i.order_id}})}}},Ao=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index-container live-h100"},[e("live-user-head"),i._v(" "),e("div",{staticClass:"live-main"},[e("div",{staticClass:"live-main-container"},[e("div",{staticClass:"live-order-container"},[e("div",{staticClass:"live-order-head"},[i._v("我的订单")]),i._v(" "),e("div",{staticClass:"myOrder live-order-list"},i._l(i.orderList,function(t){return e("div",{staticClass:"orderBox live-order-item",on:{click:function(e){return i.orderDetails(t)}}},[e("h4",{staticClass:"tit live-order-title",style:{backgroundImage:"url("+t.logo_img+")"}},[i._v(i._s(t.room_name)),e("span",[i._v("订单号码："+i._s(t.order_id))])]),i._v(" "),i._l(t.list,function(t){return e("dl",[e("dt",[i._v(i._s(t.title)+" X "+i._s(t.num))]),i._v(" "),e("dd",[i._v(i._s(t.title))])])}),i._v(" "),e("p",[i._v("合计"),e("span",[i._v("¥"+i._s(t.total_money))])])],2)}),0)])])]),i._v(" "),e("live-footer",{attrs:{findex:i.findex}})],1)},Fo=[],To={render:Ao,staticRenderFns:Fo},jo=To,Ro=s("C7Lr"),Eo=E,Uo=Ro(Vo,jo,!1,Eo,"data-v-b41ae79e",null),Do=Uo.exports,Ho={name:"LiveOrderDetail",components:{LiveUserHead:xo,LiveFooter:pt},created:function(){this.order_id=this.$route.query.order_id,this.getOrderDetail()},data:function(){return{findex:"user",order_id:"",orders:{}}},methods:{getOrderDetail:function(){var i=this;if(!i.order_id)return this.$vux.alert.show({title:"温馨提示",content:"无效订单号"}),!1;var t=new URLSearchParams;t.append("order_id",i.order_id),i.axiosPost("/client/orders",t).then(function(t){200==t.status?i.orders=t.data[0]:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(i){console.log(i)})}}},Jo=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index-container live-h100"},[e("live-user-head"),i._v(" "),e("div",{staticClass:"live-main"},[e("div",{staticClass:"live-main-container"},[e("div",{staticClass:"live-order-container"},[e("div",{staticClass:"live-order-head"},[i._v("我的订单")]),i._v(" "),e("div",{staticClass:"myOrder live-order-info"},[e("div",{staticClass:"orderList"},[e("div",{staticClass:"tit",style:{backgroundImage:"url("+i.orders.logo_img+")"}},[i._v(i._s(i.orders.room_name))]),i._v(" "),i._l(i.orders.list,function(t){return e("dl",[e("dt",[e("img",{attrs:{src:t.cover_img}})]),i._v(" "),e("dd",[e("h3",[i._v(i._s(t.title)),e("span",[i._v("¥"+i._s(t.price)+" × "+i._s(t.num))])]),i._v(" "),e("p",[i._v(i._s(t.title))])])])}),i._v(" "),e("div",{staticClass:"total"},[e("p",[i._v("配送费¥"+i._s(i.orders.deliver_money)),e("span",{staticClass:"express-no live-color"},[i._v(i._s(i.orders.express_no))]),e("span",[i._v(i._s(i.orders.express_name))])]),i._v(" "),e("p",[e("span",[i._v("小计")]),e("span",[i._v("¥"+i._s(i.orders.total_money))])])]),i._v(" "),e("div",{staticClass:"total orderInfo"},[e("ul",[e("li",[i._v("订单号码"),e("span",[i._v(i._s(i.orders.order_id))])]),i._v(" "),e("li",[i._v("下单时间"),e("span",[i._v(i._s(i.orders.create_time))])]),i._v(" "),e("li",[i._v("\n                  配送地址\n                  "),e("span",[i._v(i._s(i.orders.user_name)+" "+i._s(i.orders.user_phone)+"\n                    "),e("br"),i._v(i._s(i.orders.user_address))])])])])],2)])])])]),i._v(" "),e("live-footer",{attrs:{findex:i.findex}})],1)},qo=[],No={render:Jo,staticRenderFns:qo},Wo=No,Yo=s("C7Lr"),Go=U,Ko=Yo(Ho,Wo,!1,Go,"data-v-28c58de9",null),zo=Ko.exports,Zo={name:"LiveAddress",components:{LiveUserHead:xo,LiveFooter:pt},data:function(){return{changeCommon:!1,findex:"user",addresList:[],check:!1}},created:function(){this.$route.query.from&&(this.check=!0),this.getData()},methods:{getData:function(){var i=this,t=this,e=new URLSearchParams;e.append("open_id",this.openid),t.axiosPost("/client/addr-list",e).then(function(e){t.$vux.loading.hide(),200==e.status?t.addresList=e.data:i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},addAddr:function(){localStorage.setItem("address_edit",""),this.$router.replace({path:"/addr/edit",query:{from:2}})},editAddr:function(i){localStorage.setItem("address_edit",hi()(i)),this.$router.replace({path:"/addr/edit",query:{from:2}})},selectAddr:function(i){var t=this,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("aid",i.aid),e.axiosPost("/client/addr-default",s).then(function(i){e.$vux.loading.hide(),200==i.status?(e.addresList=i.data,e.$router.replace({path:"/order"})):t.$vux.alert.show({title:"温馨提示",content:i.message})},function(i){e.$vux.loading.hide()})}}},Xo=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index-container live-h100"},[e("live-user-head"),i._v(" "),e("div",{staticClass:"live-main"},[e("div",{staticClass:"live-main-container"},[e("div",{staticClass:"live-address-list"},[e("div",{staticClass:"live-address-head"},[i._v("我的地址")]),i._v(" "),e("ul",i._l(i.addresList,function(t,s){return e("li",{key:s},[e("i",{class:[1==t.common?"icon live-address-active":i.check?"icon live-address-uncheck":""],on:{click:function(e){return i.selectAddr(t)}}}),i._v(" "),e("div",{on:{click:function(e){return i.editAddr(t)}}},[e("div",{staticClass:"live-address-detail"},[i._v("\n                "+i._s(t.addr)+i._s(t.detail)+"\n              ")]),i._v(" "),e("div",{staticClass:"live-address-userinfo"},[e("span",{staticClass:"live-address-user"},[i._v(i._s(t.name))]),i._v(" "),e("span",{staticClass:"live-address-umobile"},[i._v(i._s(t.mobile))])])])])}),0),i._v(" "),e("div",{staticClass:"live-address-add live-color",on:{click:i.addAddr}},[i._v("+新增收获地址")])])])]),i._v(" "),e("live-footer",{attrs:{findex:i.findex}})],1)},Qo=[],tn={render:Xo,staticRenderFns:Qo},en=tn,sn=s("C7Lr"),an=D,on=sn(Zo,en,!1,an,"data-v-5ed57f97",null),nn=on.exports,rn={name:"LiveStart",components:{LiveHead:Ua,LiveFooter:pt},data:function(){return{findex:"user",roomList:[],loadding:!1}},created:function(){this.getRoomList()},methods:{getRoomList:function(){var i=this;if(i.loadding)return!1;i.loadding=!0;var t=new URLSearchParams;i.axiosPost("/client/room-start",t).then(function(t){i.loadding=!1,200==t.status?i.roomList=t.data:i.$vux.alert.show({title:"温馨提示",content:t.message})},function(t){i.$vux.loading.hide()})},goRoom:function(i){1==this.DEBUG?this.$router.replace({path:"/room",query:{room_id:i.room_id,from:"groupmessage",isappinstalled:0}}):window.location.replace(location.protocol+"//"+document.domain+"/front/#/room?room_id="+i.room_id)}}},ln=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-index-container live-h100"},[e("div",{staticClass:"header",attrs:{id:"top"}},[e("live-head"),i._v(" "),i._m(0),i._v(" "),e("div",{staticClass:"live-header-bg"})],1),i._v(" "),e("div",{staticClass:"live-main swiper-container"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide slidescroll"},[e("div",{staticClass:"live-video-list live-main-container",attrs:{id:"live-video-container"}},[e("div",{staticClass:"live-video-items"},i._l(i.roomList,function(t,s){return e("div",{staticClass:"live-video-item",on:{click:function(e){return i.goRoom(t)}}},[e("div",{staticClass:"live-video-cover"},[e("img",{attrs:{src:t.online_cover}})]),i._v(" "),e("div",{staticClass:"live-room-info"},[e("span",{staticClass:"live-video-user"},[e("img",{attrs:{src:t.logo_img}})]),i._v(" "),e("div",{staticClass:"live-video-names"},[e("div",{staticClass:"live-video-name-info"},[e("span",{staticClass:"live-video-name"},[i._v(i._s(t.title))])])]),i._v(" "),e("span",{staticClass:"live-room-start"},[i._v(i._s(t.click_num))])])])}),0)])])])]),i._v(" "),e("live-footer",{attrs:{findex:i.findex}})],1)},cn=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"live-menu-bar",attrs:{id:"nav"}},[e("span",{staticClass:"active"},[i._v("我的关注")])])}],dn={render:ln,staticRenderFns:cn},un=dn,vn=s("C7Lr"),mn=H,pn=vn(rn,un,!1,mn,"data-v-07f09b94",null),hn=pn.exports,_n={name:"Article",data:function(){return{articleInfo:{title:"",name:"",content:"",view_num:0,room_name:"",cover:""},article_id:0,room_id:0}},created:function(){this.room_id=this.$route.query.room_id>0?this.$route.query.room_id:0,this.article_id=this.$route.query.aid>0?this.$route.query.aid:0,this.getData()},methods:{getData:function(){var i=this,t=this,e=new URLSearchParams;e.append("room_id",this.room_id),e.append("article_id",this.article_id),t.axiosPost("/room/article-detail",e).then(function(e){t.$vux.loading.hide(),200==e.status?(t.articleInfo.content=e.data.content,t.articleInfo.title=e.data.title,t.articleInfo.name=e.data.room_name,t.articleInfo.view_num=e.data.click_num,t.articleInfo.cover=e.data.cover,t.WxShare()):i.$vux.alert.show({title:"温馨提示",content:e.message})},function(i){t.$vux.loading.hide()})},WxShare:function(){var i=this,t=window.location.href,e=this,s=new URLSearchParams;s.append("open_id",this.openid),s.append("url",t),s.append("apis","chooseWXPay,onMenuShareTimeline,onMenuShareAppMessage"),e.axiosPost("/wechat/jssdk",s).then(function(t){e.$vux.loading.hide(),200==t.status?(e.$wechat.config(JSON.parse(t.data)),e.$wechat.ready(function(){var i=location.protocol+"//"+document.domain+"/front/#/article?room_id="+e.room_id+"&aid="+e.article_id;e.$wechat.onMenuShareAppMessage({title:e.articleInfo.title,desc:e.articleInfo.name,link:i,imgUrl:e.articleInfo.cover,success:function(){},cancel:function(){}}),e.$wechat.onMenuShareTimeline({title:e.articleInfo.title,link:i,imgUrl:e.articleInfo.cover,success:function(){},cancel:function(){}})})):i.$vux.alert.show({title:"温馨提示",content:"微信参数错误"})},function(i){e.$vux.loading.hide()})}}},gn=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"article-detail"},[e("div",{staticClass:"title"},[i._v(i._s(i.articleInfo.title))]),i._v(" "),e("div",{staticClass:"room-name"},[i._v(i._s(i.articleInfo.name))]),i._v(" "),e("div",{staticClass:"content",domProps:{innerHTML:i._s(i.articleInfo.content)}}),i._v(" "),i.articleInfo.view_num>0?e("div",{staticClass:"view-num"},[i._v("阅读 "+i._s(i.articleInfo.view_num))]):i._e()])},fn=[],yn={render:gn,staticRenderFns:fn},Cn=yn,wn=s("C7Lr"),bn=J,xn=wn(_n,Cn,!1,bn,"data-v-2cad556e",null),Bn=xn.exports,Sn=s("aozt"),$n=s.n(Sn),kn=s("/Xo2"),Mn=s.n(kn),Pn=s("6s2J"),Ln=s.n(Pn),In=s("WK9f"),On=s.n(In),Vn=(s("/sA3"),s("KPSb")),An=s.n(Vn),Fn=(s("ongR"),s("8ybk")),Tn=s.n(Fn),jn=(s("MbtE"),s("bpDH")),Rn=s("CV5F"),En=s("TdyD"),Un=s("Tbld");s("WK9f").polyfill(),On.a.polyfill(),W.a.use(K.a),W.a.use(jn.a),W.a.use(Rn.a),W.a.use(En.a,{position:"middle"}),W.a.use(Un.a),W.a.use(Mn.a),W.a.use(Ln.a),W.a.use(Tn.a),$n.a.defaults.baseURL="localhost"==document.domain?"http://www.yc.com/rest/v1/":location.protocol+"//"+document.domain+"/rest/v1/",W.a.prototype.DEBUG=0,W.a.debug_openid="omIqUv9pP6EaM3tqd4UoAs4J4Ncw",W.a.prototype.$axios=$n.a,1!=W.a.prototype.DEBUG&&$n.a.interceptors.response.use(function(i){return 4007!==i.code&&4008!=i.code||Hn.replace({path:"/auth",query:{redirect:Hn.currentRoute.fullPath}}),i},function(i){return N.a.reject(i)}),W.a.prototype.axiosPost=function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0==t.length&&(t=new URLSearchParams),t.append("timestamp",(new Date).getTime().toString().substr(0,10)),Si.a.get("uid")&&t.append("openid",Si.a.get("uid"));var e=[],s="";t.forEach(function(i,t){e.push(t)}),e.sort();for(var a=0;a<e.length;a++)s+=t.get(e[a]).toString();var o=An()("YCLIVE"+s);return t.append("signature",o),new N.a(function(e,s){$n.a.post(i,t).then(function(i){e(i.data)},function(i){s(i)})})},W.a.prototype.axiosGet=function(i){return new N.a(function(t,e){$n.a.get(i).then(function(i){t(i.data)}).catch(function(i){e(i)})})};var Dn=[{path:"/roomStart",component:hn,meta:{title:"我的关注"}},{path:"/detail",component:xa,meta:{title:"实时视频新版"}},{path:"/video",component:po,meta:{title:"溯源直播"}},{path:"/user",component:Oo,meta:{title:"个人中心"}},{path:"/orders",component:Do,meta:{title:"我的订单"}},{path:"/orderDetail",component:zo,meta:{title:"订单详情"}},{path:"/room",component:pa,meta:{title:"实时视频"}},{path:"/order",component:Zi,meta:{title:"订单"}},{path:"/order/success",component:It,meta:{title:"下单成功"}},{path:"/addr",component:nn,meta:{title:"地址管理"}},{path:"/addr/edit",component:xt,meta:{title:"地址管理"}},{path:"/auth",component:ie,meta:{title:"微信授权"}},{path:"/",component:ao,meta:{title:"云窗-农业可视溯源平台"}},{path:"/article",component:Bn,meta:{title:"文章详情"}}],Hn=new K.a({mode:"hash",routes:Dn});Hn.beforeEach(function(i,t,e){i.meta.title&&(document.title=i.meta.title);var s=Si.a.get("uid");W.a.prototype.DEBUG&&(Si.a.set("uid",W.a.debug_openid),Si.a.set("uname","云窗直播"),Si.a.set("uimg","./static/images/defaultUser.png")),s?(localStorage.getItem("uid")||(localStorage.setItem("uid",s),localStorage.setItem("uname",Si.a.get("uname")),localStorage.setItem("uimg",Si.a.get("uimg"))),e()):i.path.indexOf("/order")>-1||i.path.indexOf("/addr")>-1||i.path.indexOf("/user")>-1||i.path.indexOf("/addr")>-1||i.path.indexOf("/addr")>-1?(-1==i.path.indexOf("/auth")&&Si.a.set("refer",i.fullPath,{path:"/",expires:7200}),i.path.indexOf("auth")>-1?e():e("/auth")):e()}),G.a.attach(document.body),W.a.config.productionTip=!1,new W.a({router:Hn,render:function(i){return i(ai)}}).$mount("#app-box")},PPJT:function(i,t){},Q1CM:function(i,t){},QRkC:function(i,t){},T77J:function(i,t){},TPZN:function(i,t){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQwAAABGCAMAAAAO5lofAAAAflBMVEUAAABFRUVERUVERUVIRkVGRUVIRkVFRUVFRUVFRUVGRUVERUVFRUVIRkVFRUVERUVERUVIRkVIRkVIRkVIRkVERUVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVIRkVERUVIRkUgwKibAAAAKHRSTlMARHe7dxC7MyLMVe6Z74hm3YBmUKqqoUDesh9v5/UY1Af8STkqxJFfqTvkaAAABqhJREFUeNrsmVuyoyAQQPtRFCiU+OMe2P8KZ5IGLopetBIdk5rzk1cDcuwGysB//g0UgTYGBWigJWzRzMD9CRFowxLJ0MCGB1PWLc0oe1FwHhqbmLfIsBI5tK5HwnwlI71FOA8OTagKbkJbkww9bFFO3kICv0aG58wYhI5X8RDpwgP3hTIoHE0lIx9NXjxjFw4RnUSWi/B3y5AW3GgOJ+GpCS5lwDb4ogypJmzJuAOlDCPVPabMdu+Q4WNifJgMsnl3GOLSiJWMjAtCq9olMXTM1+nWMhKaxiB42QEE9gpWMSmgVbPpKBLVlQtoCdwDhT1NY4jYHp4MIdE5ytdaJ4ZudG6fnSropa9Z3d0PDAWWFAka5xm90WqACAuwYEilJL3Rx8iwzivQP3fcEG/JUDZmjYLIb86GxWEjLc/3Q/NfHBGacrm36VckctUtV12M0vC7DBbJ6bTKZSzDDTFYEpNhwjlq4ULooS2jxF8rg8Ju8EgTXHPh4ZiMcXMsafmBMvSYd9WDMvzXyZDwnTIGfmLjvvoxMjpeZZwHaw4tGTVGZODVMvx8HgKvorOMcrr4QBd2t9OIy+GCUPae6fKRBOlBDHZUAucyNU/M9XTl9Ex7ZVAz7/LBa1R1n9dhqutqyciHqR4TakWG84dk9MsjCeD1MlyVGG0ZXM1pKcM6A3hEhha/vr5NVGw4VsGZKBsE3C1DudCSoRXAIRkquSgpZPTp/akMQRhgrwzsQkuGgPt3E9X9uFDoo5Mutzdp1z0VEwSr9soYJJ7Kb616UcYk3TBzJ02Kb0fRcsHywSt/aih6otZlcPk4Q6fsfVEGh0z9WFiBu6RI+lwk9aW5TRnjQ8fkTVr1JjhHBuYavKJIlC2GqWZhVmVQrygInZUXdZIMEz/JizVwKmkYtfo9b22t/RiE1PqdMkYeSIMwG0fDqQzVs5cIVsMvptu7kPHwugxPD6p/2l0ohzkVv61cbonblAE4hQzjazK26S9zoathqpmbjTIZxlDCZ8kwuRQRTkXbWY1ofEBEf9o51+3EQSiMHmIggCGjMXVi4/3SWd/7v+CEkNIxF23HVh2n+0cqgWMWu3BA2mVizxVqgg4ZWr1N7yAYfrYMzoJYMaci9rYldXHdI41Rhwwf96SruTb6BBkssMRuy1XCnIrGHJFBidNyTRke3SNjFGvuK4YXywhan1j0U2vBIuafcBsZcVvGjzho5HyuieJTMs6dpLVljBo3FLetbixj2GofsA783KFPkTGIfFKSddUwCZJ6b275ehmDkrha7iO/B2Efkje4UMZw8BToqJ5NoyTyew3PE30JknlOLPHBh2Swv5QhGyeq9GqiZYPRDfCfCz4gY6ipW0ZwCkkdHO99h38sK/fBj8Fp7J+je2RcCg8Gbgn7F/5buAcZVNzLb/Obb755LJb73VanRTEej1+S8lIUqWa7/ZL+J3ZFMhVqvkEPm7maxeNU0nWJGON+R3b24dwfTAEh/TUveB8bTVdFAwlVKBh+RpyAJeEXytjDsTALnGZO1yUDIioJAU0nYQYqZWF5vVDGBI4x/QTmhwP64XRVuOucBLJzDV2LqPTwiTKm9Hw/MkhX/RLIORF3KSFiEVHo4FQTApIsMXIrQ9ha6ZINlbiUE7mYRrhMq0LaIUNM0juSQRmMDAFmO+R+CAgiOExEDgFFb6BGV5Z8So1djDwOT+EQbRmWe5Jhx79BQi0ZIZE2XsHRPPK1+ZGMFEraG/FRuAaU5vZde0bGRk9mZVlNJgaYF/vlvpjfSAZpADnvlEGJ62krZfraIxk6jKikEZ7BcPeufTlD07Ysp7a84rRLd/RsbiSDMuugW0boZZj2yKCwIYO0Qkkj3JTl0zIErQ02S5ra5/+qvBQ3keF7fEaGQE41vE8Gg4nLRNkIx1kZeC49COILGCJhjJmRvGsZVY51JH0yMtekEa6gzskYk3ajYUWv3IOMtE8GN3Vi4ZloypC1DAHelmEv4RkZOa0XS1L2Bb3MKja3lsENTMqY6pJBUVmZMBbmSI9qGaA0Y/ZOAlG+Yo1wLgAjhDkhAz+poAglksawTG8+MkgbWDplkIxhySI6rg3hCImL7nCdiDMyplRvUrIy6LDK2NLLuCERs0TUTc8XF7x9pwDvCK9LObJjGQnfehmLZ75cwDKzzdfb1T3I+AJEyN02NHXlLU5j1GoBx5oejdBmDAUo7srrOd7JjB4PFudAHnKq2c/epWM+fbxZ0sl6GW3T4GU6O6xyYxavpz1mvjqILB4Xeicfb4pcld+mXLYhkNjPdgAAAABJRU5ErkJggg=="},UC3r:function(i,t){},Yvur:function(i,t){},Z2Ou:function(i,t){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAABLCAMAAAD9JUoRAAABHVBMVEUAAAD///8CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLj4+Pm5uYCAgLc3NwCAgLq6uoCAgLt7e37+/vy8vKYmJiPj4/T09Pm5uafn5/Dw8OJiYm8vLzJycn39/epqakCAgL39/fNzc3t7e3AwMCDg4O4uLjJycnz8/PFxcXd3d39/f19fX3MzMyzs7O2trb09PR5eXlmZmZ3d3fh4eGHh4dDQ0P7+/vQ0NCsrKzq6ura2trh4eHU1NTCwsLb29uoqKgvLy/n5+fb29vr6+ucnJy/v7+ysrK4uLixsbFPT0+ampqpqalra2s3Nzc1NTXMzMw8PDxqamoyMjI1NTXw8PBYWFiQkJDKysrW1tbn5+f19fWOjo5DizRGAAAAX3RSTlMAgAUICw4UGBEcICMmaWgpRSxmLmV6Yzk9SEI3TkBRS2E0MXJKbk9DUyt0TTt4RkBVMGs2KyRXMCFxVD9UZGFdWllOMF5PSkZESTslGysaPSg4NSUULCpbMh5hKHFZTQdyfzkAABI+SURBVHja1JoJd9JAEMddCzmBlKZAacUD1GqFVnuKVsWr2nrUarXW6/t/DP+zO7ub0ID4fBH9P59vE/fI/DIzO1k89y/pvNIfDYYm7Zls/m+y1rId2Ro9eEbqV7ZPPu1f5Hh+cg2bqzWT1GgU3LeghD7jbExMm26Oe3W5ik2fTJbN3mVoEeYa64spaRSWrqVaKO4KqT53MjrDqrsoVaBR3D5Dy7ys/GlZY8eL7dcWdwXpFLcgmDF7RrDrrcJlXU8t5Hk9IfXco1npdpatGFO4LKSKNIzbBUPLMj1evNzvr+9hvRxp8VqwK8Pa0faTc0h79yRCmJStm2RY+m2AlOO8EUo7ruN4Q68ixapYF1IeidtFmnTo+fvfu69edb/39vKkxc8kJtdNWESsPBlJvdce2V8fDUvSSrpes9m8OieUbl26ikv7Krpsq2GlZ3ZI89w2tCyrV++73e5x8e3691xpYa3fg1WQseQ5B4K0BtcgM7J1B3aBLUXTRLoMDEaA5emZXddxXW7DF2dS3br902KnvtvpzRaL6zn6Fr/A34EF+yntuJuCtO46xoxrFWhurkKqCdIVj2hxNE2guoSrRMMcDch3XdefY3CO7SXzVe990eusIbjROO29nfl3YMFZiJXjBorHpjWjFUUlpSgqK1gOelM0TQqL4GrJVRhQ4Pt+wG3f8WhWo8V1dCRY+Msrfs/PtRiWA4ODIMyStVyUS4GP11qUVvjhRqvVWlh4F2BkRZCWqwZWVQ1ZcjzJFtE0keYVh69fb0KntEoSVkV7GXrdlHpLXr676BEs193qvfeK3X6+sJTxfhBmii23sKB6fR7RVi6XZdxthAlYNMLCcsn4okk9y6TVB4zmx+oycJNaLYaF/higLmYR4BpQGODxuB3QFqqaiwWo3/XgVPPb252m43mv+oX8aHEilbSGcQUQ0bKwXEfufiKlhVJZwxJSBlZjCFYVits1dfGlHRu4EcNS89dVEQZ3t7ACCwtvbEvnBEjBet7sPEckMqy8XYsDMc0K95Kw/ExYrWg0LCcFK4qiavyEh62CFa1BS/DAOcwP1Zmc74cZsELfd68wLA+Ps7tHsNYQhVcAq5svLKa1Nj8HVYzmSPcoOksaVujLMEnAYkhnYEXZsMiH4hWeLa6ClQ/REhYWLG+qC/xDJiwMWtIbI2jNritY7nYdsE728oNlXauZmXHJFAOLolAazylrhWHF42HRBuIHOgMmHAtmuyQsEUGl0Jew3KuCVEsBsu0S2rcSsI57XUfuhlu9O96r3ts8YTGtUbDITIZVCch2Nj4sVdt8/2g8LAgAQF1FHBNeQXZvLN11INDaWKCttcGw2G+IbTkDFi4usO/JtNDtnTr1A0y0u3vaxzf3FGHZxFHxKV+rAoic4Ygdrm1gVTk1GVh2ADGhTeS6SOoAcIhkR5A6rrrcEVKfR8EKufmQc+hi/70jdad/QuuBVX6SsK6y6eUKqVzjd0cGGliOJ4tB5Vo6oG4bWHGcDUvi8qQLbdZEUs9TdK66zE7vsqVMWKWwpJoX6O1B8K367NrabB0fPAVEYd6wPA2rGnEJrpNsChZMpw8R5VoPdBRaWKZCsLD4lAK4CMM1IVW7LbQvQe62utokP7G99vEcGbDoAVXrvirmMffx7EmnczJ7jKtcHYthuZcsLEjDou0qTMPimj/4zOVSrGGtjoIFSVqOXkT8OOLGlgtWd1X7MRcmrv9QkC6OhPVRtTYAC3RAC6OgIrPKGRae8JZ+lBDST1nJgAVJWI8EIyI042FxeeIeMKJBu/1NtS75iM3HfLqlCw1f5e8HUTQCVsvU8hzloAXlzophOQZWqDYtCytIwVKW06mDKZcMrHY7GxbXcs5OTW8J7baOQyy2w47lu/wl6TfUKUY2LNx9ondndVpDuKRmcmfFsC7oKkamKQ0rDLJhmfOAw7gaDcOKE7DIFbmUe8OsaujY1nG4EH5aUXc/KD8hr93UWKrZsC7Kxj1fTZ/6MeOvwkJhCCH0xsCi/UBH1G3AioZhxfHZnOW9XheschxX4y/cfnpNJyDqDMFrA8XvsJoFy6y3z2nBKHdUFpb9TOXP/UxYM8qxtkwJ8CQRhquq3kzDYlZbYKVhwd5omS94ov1AFibU1WT4F9U4AxbWqym8cEW19Y1BlS8ssKLdewws9hJDy8L6oVikYKlzZe9NT1hYkd1vhWHFYNFXZ/gbcRasuPqUP4c0LPwxqP6uZ2H/HgtLZpVnIqEnBtZAWVEexInzrBnNysKSBzOHwmhlA9Gf3Gp3mHo2rBe6focrTgBnWrA8Zfq2SOlQw/qmaSRhQd6aSKosbS8NBGvwlE7KzF5AlZYKtBGwbgjSLZlCpw1rTM7y5Hb1XKS1zLCORCYs8wN07YfgWX0o+Mjp6kEchRyE+nOCS6/DbFjq5iZHYe4avxvCsTSsYBgWVKzbxPxtkIA1GIZ1RR3pnDCUo7bQ1ZvccVs6jkuc3clyFYcvVQ2fmeCjGn8pTSMKh+ssF6w+1TIqeIbl1YHqxW2uL5evidagTFqtWViDMo4P598AFqTgvojbBpZLCkoXuf8G5Wq2XKX4u0uNxsLC5+zSAaf2jaUddxpRmK7gW3iOpcY+P9jDYVhFBevhx5hhocza38DehrP1QbI2KIWgrlgRXPH4E3WxsBx5cPGA41NazjGV+AVlxLchrjA3jZgyrLQuBOlTB05BV4JS9bbFAoHWobCwmJWBtb4UhCAa2zAkWEFJV6S1A0cVDvbklv591OEfpQpvGqzsqUOGNv0hWOagNLqRwEJmPV1JwjKs0N07abrsKCbBw1rce8e0oCbmVrT4q9sjWpmweOrCPwZr34dVQ7CodHBgBsMiVpA53dJ31cuXjsjnpERL/zP5xsF2rRFaWs9ec51lD3QsrFKIwQlYitWUYPFJaVor98mmIVjmoPQil0zch49ZvhkaBItpAZcKKwPr3f3tHhoUnNEjodS549n/G6cC0cLi8/hhWFOgJQvBraXGgvzZQOszcYD8jM8d2HFdR5SExay+/KzmXLuTBoIw7KglJAjamAQQCsUCoqjQChRBWy9o8V6t98v//xu+szubTTzRo58a3+NBWXYD82R2M7uz620LK5BdaErgxYTlLhgvbKi85LOQtO69BwGWqR/DMvMjC+vUaIn9rpdOsQKDhlVOwZIY28DiSvPAJJkNLIDWsGCTmM+ESRTDchnXHdMVb71DbdQ1rghvMuGC3XJxsWS8FnVPy7V4WLFiUhzM25iLDpJLNG7TelZnR4LLq2bdgYf9PYLU3NAuRVNa+w7EuPryFZcY7hX6W22flmtJvkpU0Jpim97QPOaGMr9QMbY7FFje/Il0Liw/XX4rwXqttiADi/nK0gslNcMCvBn6jxcaFsca/wDr/Cm51jl2/l+1m4ojZJavV0pjWPIYXXxUe41CSioykaO4Y+Lp0TzhoQeSfRaTBZrW0buKl+hvFZ1KR5RnUEqAl4J1oOdvJsHRTsHaqcqWmxYlVTewxB1JdP/IBPhmLIfm671LYPcvsE4rMFW8UoIdCViVE5mMSVzWTcAK267IKx2S1cwpypRP3FGTevRYB/g2A1so6L7/Urkz+n67PWz2+/1Wa8Bqacm/Ud5sqr27o9OBJbhEQs7CunE/Xva1SVlJLHZpNpHHgepQtUVFa7FkHrqJ9EPaWRxdgCwr+SJ0Rqio8ob6UcOOCk/NkHlU6yvk4jCPZJ559BXritqxpEt1uu3hcLh23c5UgypCyS2EsEemxzbynTIDZSnqpyN2rThscLSjZsllOXliZfaLMC3IzvJtXObYAMMG68Yt1EfGF20jedyivrhVxoAp86M/q6Bo5wmWNc84gsWIT2JQ9lRJIgCx1qTDE2WmoMocME02vvB7xcn6vBypSw4m1hPENgk05FcrVNKhUk2sNTI2iUz1jPFSzvf81UmifLCyQ3x6y4W1KGGPuNUvbQwSK6Fgz85lSvnWH3QuVi6OambcYv0j0wZZXPZTy1HwZjIQS7NRQZZJmptFlJtTrekfbWlYWSMyaKWgZDvLbw4ypuFkw8oJIyNrr/Uc1r1tLAm8vm70Oq5wk2hPcEnb7W0crcOLxnAO5+5Q9GLj3vaLF6otroPzlqINi0Zd8YVqrUpRcnN7296S999u5mOUSrD6ljFh5bWAu8k5LhurTylGRBHOv0HfxGQ02NjQrfj9D7qycZfeFYimEel1m/dEN+WwpbkeuEBRtEd0K4oifgNM+MLU9CdvsM5lwMJ9vU70qoDfXYfw1yUUkZEFCHE5dqTjRTsIXC8a3aIdUHgS0OyeOmq5R5+KEajEupmx2AA3Q+3dURQFAdFOFD29kp9gIRVDiTrK8uLL3d3dTudVnUjFoYAFi2FAvQ4Ge13M0+4RHGjj6XZUZE5cJSq+iLZvYl8WCJOS71OjoY5aosAJeJv9BAh1uDbFF3QajTau12g08O/dQiEiyF3RyiPqzone5Sdmj0OoL/yzWScubAtgyy6xAlji+bAR5sM8Ymt3iJYc4XcUQCCTcrxwqxHAdzrqAFyNt2RXq0SgPUdZQP7a74F4EAQjDmWDwPe5IMRfQbBGtVFA1PaqfuUjUbMarArFPME6wzNCO0pUPQXL4VXAJ0R+k6jkk+8BlqMncGvYVquB1qTTeak8ZuqgooLl4B3O06yoXaV+hVrUqtDDh0SuMwVh16dKn0RdByIjW9QlAmGrS3CtPMFCL4SRs/bQZ1hVBQtyl0R9GIeMVKUkprjuSQhYnH930R0B6zkvrBNwekwMps4dZ009wCozrDKxXBc968DDhVpEOIbCl+Ocmz6csbmJoj7vzYXaKFrg3Iv+Gj8Y5QnWWYEFTKUmoecwLFdxAbvPbFw5Acs7IHpwCIpcb4aSfaK1R6hRYmIrClE2gRsxpwENQAyX8BSE4wqVB0R8alHIEBqWlYCHhijxhrgRF5G/fUD4g6J89UNzNKVaKvUZVo09hFmBxiHvfN0ErAuwThUuODmxhZfjHoVzB+IxhlADVSrenj7PElKfOY1pXKZrqM07lP3KHQtLyBDeWVhNMK36KHt8n8K3ROMBhUvnP4CF/tYj6j2GcZd7VDaw2nr3MCwLKdxXDhiQXzKwSqqai2NMRylYnIyv1T6UqTwmunp584OFhd0j0CbflSZqEfMLkQu5Oh7f3kQhTkHnDFYxAasqsB4S1ENXeAwydzSsGWlYW/zRvk4zLiiMYaHaktv68KzDHn1lWCwPwrUVLNHSU7CsNKxwB9fv2bIwp7BSYxaG6hBACMY+IhQrWBiRhj7D4gz8Q82KD1F85p0hFwELFziRbhjvp+z1krAelcvfcd1K0xPParX0OnuFYUFoyPuax+MbVIZz+k4uYT1sD3v8lDOwFkuiraM3lzHYMkMPbILVxAMsLDp/6EloqVeVDSxZKp/jOv0W0eAauvCWHrNwWe6Gl8djwD/qG1j4+Bq0tXUosJoa1tWr6MWbrdzBAq04zup5JnSYu1VYgsf6IQksx5mCjIJ1VDsGrdlLyVjE3VCz4rOWpQtbDPAiENUUrCHa3aD7j0FKOeqJwLJKwRLlEdYGJ6OQjVofCyyIQ/ma2vKCPzVv3Z1yKcM6CGHXyYy3wQgtgeUzK6hLPmfInoEq9UoMi4dADsofDeg+UNQOqC2walss8SwdOoAzDQbohuibQc5CBzs3dFldgcX+UT0+oPAZrB02dqijyAQ6w6o3PETFIs95ATCsVPASQE8KhYAW7hKYSqUeBvKlCkpDWjTpxjMKPx/hupMwbLhrfrZyrpAzgxWwbk9UbMJ4+VxC68JB/mAJLcWrTlBdvenAqCH17pSOQ/3/G3Epw1qt2YHwZoS5If2qqPCS6LkT7sDyBh4DIBK4/BhY+uGd/uFHUKF9dz6rK+5pNbgs9GrJY8J5iuBT2QjYH0URWLEAq9Fde9CEk8GvdP6lPpo7cdrQpvw8SBDytPKls+Jq+104YL0+d/Danc/2PWjh+0uVT3NeYe5ejcULD3PnSbDadyfNZlMnoTuFXA1ZhtZ5w8tkT9OpPJs81sI7ka7nQonMa4Yc6edSUcrSO57iajYzm6slGhwUSiYrgEM4WHZxThWKKyQypLaaaVvMUIqcLXNEplhDFMGv8rX4x0omHhIcxG6Bk5FesIhttbRQIOhNLQEqmK3SN8nmLvPkWIzK5g1Fv0+02OzM3+ZxspOCUm5JJjnbotyxEhlg6WyhhZOhLMIZn2cqLs+CnLpBf3mk8CduBAHuz2ebpAAAAABJRU5ErkJggg=="},bT6r:function(i,t,e){"use strict";function s(i){e("w+fm")}var a=e("x6d+"),o=(a.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[a.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(i){var t=this;i&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(i){this.show=i}}}),n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"vux-toast"},[e("div",{directives:[{name:"show",rawName:"v-show",value:i.isShowMask&&i.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),i._v(" "),e("transition",{attrs:{name:i.currentTransition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"show"}],staticClass:"weui-toast",class:i.toastClass,style:{width:i.width}},[e("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==i.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),i._v(" "),i.text?e("p",{staticClass:"weui-toast__content",style:i.style,domProps:{innerHTML:i._s(i.text)}}):e("p",{staticClass:"weui-toast__content",style:i.style},[i._t("default")],2)])])],1)},r=[],l={render:n,staticRenderFns:r},c=l,d=e("C7Lr"),u=s,v=d(o,c,!1,u,null,null);t.a=v.exports},bc6U:function(i,t){},bkaS:function(i,t){},dxYj:function(i,t,e){i.exports=e.p+"static/img/banner3.fdb8c9d.jpg"},eCeV:function(i,t){},f9nr:function(i,t,e){"use strict";function s(i){e("1Uz0")}var a=e("fRcE"),o=(a.a,Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:a.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(i){this.showValue=i},showValue:function(i){this.$emit("input",i)}}}),n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"vux-alert"},[e("x-dialog",{attrs:{"mask-transition":i.maskTransition,"dialog-transition":i.dialogTransition,"hide-on-blur":i.hideOnBlur,"mask-z-index":i.maskZIndex},on:{"on-hide":function(t){return i.$emit("on-hide")},"on-show":function(t){return i.$emit("on-show")}},model:{value:i.showValue,callback:function(t){i.showValue=t},expression:"showValue"}},[e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[i._v(i._s(i.title))])]),i._v(" "),e("div",{staticClass:"weui-dialog__bd"},[i._t("default",[e("div",{domProps:{innerHTML:i._s(i.content)}})])],2),i._v(" "),e("div",{staticClass:"weui-dialog__ft"},[e("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:i._onHide}},[i._v(i._s(i.buttonText||"确定"))])])])],1)},r=[],l={render:n,staticRenderFns:r},c=l,d=e("C7Lr"),u=s,v=d(o,c,!1,u,null,null);t.a=v.exports},fRcE:function(i,t,e){"use strict";function s(i){e("IhRb")}var a=e("v4/V"),o=(a.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[a.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(i){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(i){this.$emit("update:show",i),this.$emit(i?"on-show":"on-hide"),i?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var i=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(i&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===i.layout}},[e("transition",{attrs:{name:i.maskTransition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"show"}],staticClass:"weui-mask",style:i.maskStyle,on:{click:i.hide}})]),i._v(" "),e("transition",{attrs:{name:i.dialogTransition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"show"}],class:i.dialogClass,style:i.dialogStyle},[i._t("default")],2)])],1)},r=[],l={render:n,staticRenderFns:r},c=l,d=e("C7Lr"),u=s,v=d(o,c,!1,u,null,null);t.a=v.exports},i1WR:function(i,t){},kC67:function(i,t){},"kNI/":function(i,t){},lPsE:function(i,t){},mFs0:function(i,t,e){i.exports=e.p+"static/img/banner2.6ef5e51.jpg"},pp45:function(i,t){},puW0:function(i,t){},rWbv:function(i,t){},sIFi:function(i,t){},tEpr:function(i,t){},"w+fm":function(i,t){}},["NHnr"]);
//# sourceMappingURL=app.6313af4f2bb087ec3b02.js.map